ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"r_divider_bus_voltage_sensor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  20              		.align	2
  23              	OFFSET_TAB_CCMRx:
  24 0000 00000000 		.ascii	"\000\000\000\000\004\004\004<<"
  24      0404043C 
  24      3C
  25              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  26              		.align	2
  29              	SHIFT_TAB_OCxx:
  30 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\010"
  30      00000800 
  30      08
  31              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  32              		.align	2
  35              	SHIFT_TAB_ICxx:
  36 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000"
  36      00000800 
  36      00
  37              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  38              		.align	2
  41              	SHIFT_TAB_CCxP:
  42 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\020\024"
  42      080A0C10 
  42      14
  43              		.section	.rodata.SHIFT_TAB_OISx,"a"
  44              		.align	2
  47              	SHIFT_TAB_OISx:
  48 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\010\012"
  48      04050608 
  48      0A
  49              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  50              		.align	2
  53              	CHANNEL_OFFSET_TAB:
  54 0000 081C3044 		.ascii	"\010\0340DXl\200"
  54      586C80
  55              		.section	.text.RVBS_Init,"ax",%progbits
  56              		.align	1
  57              		.weak	RVBS_Init
  58              		.syntax unified
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 2


  59              		.thumb
  60              		.thumb_func
  62              	RVBS_Init:
  63              	.LFB1088:
  64              		.file 1 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c"
   1:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
   2:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
   3:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @file    r_divider_bus_voltage_sensor.c
   4:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief   This file provides firmware functions that implement the  features
   6:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *          of the Resistor Divider Bus Voltage Sensor component of the Motor
   7:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *          Control SDK:
   8:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
   9:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
  10:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @attention
  11:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  12:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * <h2><center>&copy; Copyright (c) 2023 STMicroelectronics.
  13:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * All rights reserved.</center></h2>
  14:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  15:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * This software component is licensed by ST under Ultimate Liberty license
  16:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  17:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * the License. You may obtain a copy of the License at:
  18:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *                             www.st.com/SLA0044
  19:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  20:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
  21:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @ingroup RDividerBusVoltageSensor
  22:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  23:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  24:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /* Includes ------------------------------------------------------------------*/
  25:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "mc_type.h"
  26:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "r_divider_bus_voltage_sensor.h"
  27:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "regular_conversion_manager.h"
  28:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  29:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  30:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @addtogroup MCSDK
  31:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  32:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  33:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  34:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @addtogroup BusVoltageSensor
  35:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  36:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  37:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  38:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @defgroup RDividerBusVoltageSensor Resistor Divider Bus Voltage Sensor
  39:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief Resistor Divider Bus Voltage Sensor implementation.
  40:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  41:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  42:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  43:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  44:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  45:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It initializes bus voltage conversion (ADC, ADC channel, conversion time.
  46:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     It must be called only after PWM_Init.
  47:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
  48:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  49:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak void RVBS_Init(RDivider_Handle_t *pHandle)
  50:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
  65              		.loc 1 50 1
  66              		.cfi_startproc
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 3


  67              		@ args = 0, pretend = 0, frame = 8
  68              		@ frame_needed = 1, uses_anonymous_args = 0
  69 0000 80B5     		push	{r7, lr}
  70              	.LCFI0:
  71              		.cfi_def_cfa_offset 8
  72              		.cfi_offset 7, -8
  73              		.cfi_offset 14, -4
  74 0002 82B0     		sub	sp, sp, #8
  75              	.LCFI1:
  76              		.cfi_def_cfa_offset 16
  77 0004 00AF     		add	r7, sp, #0
  78              	.LCFI2:
  79              		.cfi_def_cfa_register 7
  80 0006 7860     		str	r0, [r7, #4]
  51:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  52:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
  53:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  54:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Nothing to do */
  55:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  56:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
  57:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  58:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  59:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Check */
  60:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     RVBS_Clear(pHandle);
  81              		.loc 1 60 5
  82 0008 7868     		ldr	r0, [r7, #4]
  83 000a FFF7FEFF 		bl	RVBS_Clear
  61:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  62:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  63:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  64:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
  84              		.loc 1 64 1
  85 000e 00BF     		nop
  86 0010 0837     		adds	r7, r7, #8
  87              	.LCFI3:
  88              		.cfi_def_cfa_offset 8
  89 0012 BD46     		mov	sp, r7
  90              	.LCFI4:
  91              		.cfi_def_cfa_register 13
  92              		@ sp needed
  93 0014 80BD     		pop	{r7, pc}
  94              		.cfi_endproc
  95              	.LFE1088:
  97              		.section	.text.RVBS_Clear,"ax",%progbits
  98              		.align	1
  99              		.weak	RVBS_Clear
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 104              	RVBS_Clear:
 105              	.LFB1089:
  65:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  66:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  67:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  68:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It clears bus voltage FW variable containing average bus voltage
  69:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         value.
  70:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 4


  71:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  72:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak void RVBS_Clear(RDivider_Handle_t *pHandle)
  73:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 106              		.loc 1 73 1
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 16
 109              		@ frame_needed = 1, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 111 0000 80B4     		push	{r7}
 112              	.LCFI5:
 113              		.cfi_def_cfa_offset 4
 114              		.cfi_offset 7, -4
 115 0002 85B0     		sub	sp, sp, #20
 116              	.LCFI6:
 117              		.cfi_def_cfa_offset 24
 118 0004 00AF     		add	r7, sp, #0
 119              	.LCFI7:
 120              		.cfi_def_cfa_register 7
 121 0006 7860     		str	r0, [r7, #4]
  74:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  75:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Nothing to do */
  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
  80:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  81:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t aux;
  83:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t index;
  84:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  85:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     aux = (pHandle->OverVoltageThreshold + pHandle->UnderVoltageThreshold) / 2U;
 122              		.loc 1 85 19
 123 0008 7B68     		ldr	r3, [r7, #4]
 124 000a 9B89     		ldrh	r3, [r3, #12]
 125 000c 1A46     		mov	r2, r3
 126              		.loc 1 85 51
 127 000e 7B68     		ldr	r3, [r7, #4]
 128 0010 5B8A     		ldrh	r3, [r3, #18]
 129              		.loc 1 85 42
 130 0012 1344     		add	r3, r3, r2
 131              		.loc 1 85 76
 132 0014 5B08     		lsrs	r3, r3, #1
 133              		.loc 1 85 9
 134 0016 BB81     		strh	r3, [r7, #12]	@ movhi
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 135              		.loc 1 86 16
 136 0018 0023     		movs	r3, #0
 137 001a FB81     		strh	r3, [r7, #14]	@ movhi
 138              		.loc 1 86 5
 139 001c 09E0     		b	.L3
 140              	.L4:
  87:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
  88:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->aBuffer[index] = aux;
 141              		.loc 1 88 14 discriminator 3
 142 001e 7B68     		ldr	r3, [r7, #4]
 143 0020 5A69     		ldr	r2, [r3, #20]
 144              		.loc 1 88 23 discriminator 3
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 5


 145 0022 FB89     		ldrh	r3, [r7, #14]
 146 0024 5B00     		lsls	r3, r3, #1
 147 0026 1344     		add	r3, r3, r2
 148              		.loc 1 88 31 discriminator 3
 149 0028 BA89     		ldrh	r2, [r7, #12]	@ movhi
 150 002a 1A80     		strh	r2, [r3]	@ movhi
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 151              		.loc 1 86 61 discriminator 3
 152 002c FB89     		ldrh	r3, [r7, #14]
 153 002e 0133     		adds	r3, r3, #1
 154 0030 FB81     		strh	r3, [r7, #14]	@ movhi
 155              	.L3:
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 156              		.loc 1 86 37 discriminator 1
 157 0032 7B68     		ldr	r3, [r7, #4]
 158 0034 5B89     		ldrh	r3, [r3, #10]
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 159              		.loc 1 86 5 discriminator 1
 160 0036 FA89     		ldrh	r2, [r7, #14]
 161 0038 9A42     		cmp	r2, r3
 162 003a F0D3     		bcc	.L4
  89:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
  90:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.LatestConv = aux;
 163              		.loc 1 90 32
 164 003c 7B68     		ldr	r3, [r7, #4]
 165 003e BA89     		ldrh	r2, [r7, #12]	@ movhi
 166 0040 9A80     		strh	r2, [r3, #4]	@ movhi
  91:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.AvBusVoltage_d = aux;
 167              		.loc 1 91 36
 168 0042 7B68     		ldr	r3, [r7, #4]
 169 0044 BA89     		ldrh	r2, [r7, #12]	@ movhi
 170 0046 DA80     		strh	r2, [r3, #6]	@ movhi
  92:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->index = 0U;
 171              		.loc 1 92 20
 172 0048 7B68     		ldr	r3, [r7, #4]
 173 004a 0022     		movs	r2, #0
 174 004c 5A76     		strb	r2, [r3, #25]
  93:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  94:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  95:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  96:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 175              		.loc 1 96 1
 176 004e 00BF     		nop
 177 0050 1437     		adds	r7, r7, #20
 178              	.LCFI8:
 179              		.cfi_def_cfa_offset 4
 180 0052 BD46     		mov	sp, r7
 181              	.LCFI9:
 182              		.cfi_def_cfa_register 13
 183              		@ sp needed
 184 0054 5DF8047B 		ldr	r7, [sp], #4
 185              	.LCFI10:
 186              		.cfi_restore 7
 187              		.cfi_def_cfa_offset 0
 188 0058 7047     		bx	lr
 189              		.cfi_endproc
 190              	.LFE1089:
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 6


 192              		.section	.text.RVBS_CalcAvVbus,"ax",%progbits
 193              		.align	1
 194              		.weak	RVBS_CalcAvVbus
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	RVBS_CalcAvVbus:
 200              	.LFB1090:
  97:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  98:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  99:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It actually performes the Vbus ADC conversion and updates averaged
 100:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         value for all STM32 families except STM32F3 in u16Volt format.
 101:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
 102:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @retval uint16_t Fault code error
 103:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
 104:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak uint16_t RVBS_CalcAvVbus(RDivider_Handle_t *pHandle, uint16_t rawValue)
 105:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 201              		.loc 1 105 1
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 24
 204              		@ frame_needed = 1, uses_anonymous_args = 0
 205 0000 80B5     		push	{r7, lr}
 206              	.LCFI11:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 7, -8
 209              		.cfi_offset 14, -4
 210 0002 86B0     		sub	sp, sp, #24
 211              	.LCFI12:
 212              		.cfi_def_cfa_offset 32
 213 0004 00AF     		add	r7, sp, #0
 214              	.LCFI13:
 215              		.cfi_def_cfa_register 7
 216 0006 7860     		str	r0, [r7, #4]
 217 0008 0B46     		mov	r3, r1
 218 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 106:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   uint16_t tempValue;
 107:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 108:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
 109:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 110:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     tempValue = 0U;
 111:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 112:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
 113:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 114:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 115:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint32_t wtemp;
 116:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t hAux;
 117:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint8_t i;
 118:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 119:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     hAux = rawValue;
 219              		.loc 1 119 10
 220 000c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 221 000e 3B82     		strh	r3, [r7, #16]	@ movhi
 120:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 121:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     if (0xFFFFU == hAux)
 222              		.loc 1 121 8
 223 0010 3B8A     		ldrh	r3, [r7, #16]
 224 0012 4FF6FF72 		movw	r2, #65535
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 7


 225 0016 9342     		cmp	r3, r2
 226 0018 3FD0     		beq	.L6
 122:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 123:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Nothing to do */
 124:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 125:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     else
 126:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 127:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Store latest value on buffer */
 128:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->aBuffer[pHandle->index] = hAux;
 227              		.loc 1 128 14
 228 001a 7B68     		ldr	r3, [r7, #4]
 229 001c 5A69     		ldr	r2, [r3, #20]
 230              		.loc 1 128 31
 231 001e 7B68     		ldr	r3, [r7, #4]
 232 0020 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 233              		.loc 1 128 23
 234 0022 5B00     		lsls	r3, r3, #1
 235 0024 1344     		add	r3, r3, r2
 236              		.loc 1 128 40
 237 0026 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 238 0028 1A80     		strh	r2, [r3]	@ movhi
 129:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       wtemp = 0u;
 239              		.loc 1 129 13
 240 002a 0023     		movs	r3, #0
 241 002c 7B61     		str	r3, [r7, #20]
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 242              		.loc 1 130 14
 243 002e 0023     		movs	r3, #0
 244 0030 FB74     		strb	r3, [r7, #19]
 245              		.loc 1 130 7
 246 0032 0CE0     		b	.L7
 247              	.L8:
 131:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 132:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         wtemp += pHandle->aBuffer[i];
 248              		.loc 1 132 25 discriminator 3
 249 0034 7B68     		ldr	r3, [r7, #4]
 250 0036 5A69     		ldr	r2, [r3, #20]
 251              		.loc 1 132 34 discriminator 3
 252 0038 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 253 003a 5B00     		lsls	r3, r3, #1
 254 003c 1344     		add	r3, r3, r2
 255 003e 1B88     		ldrh	r3, [r3]
 256 0040 1A46     		mov	r2, r3
 257              		.loc 1 132 15 discriminator 3
 258 0042 7B69     		ldr	r3, [r7, #20]
 259 0044 1344     		add	r3, r3, r2
 260 0046 7B61     		str	r3, [r7, #20]
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 261              		.loc 1 130 60 discriminator 3
 262 0048 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 263 004a 0133     		adds	r3, r3, #1
 264 004c FB74     		strb	r3, [r7, #19]
 265              	.L7:
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 266              		.loc 1 130 40 discriminator 1
 267 004e 7B68     		ldr	r3, [r7, #4]
 268 0050 5B89     		ldrh	r3, [r3, #10]
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 8


 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 269              		.loc 1 130 24 discriminator 1
 270 0052 DBB2     		uxtb	r3, r3
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 271              		.loc 1 130 7 discriminator 1
 272 0054 FA7C     		ldrb	r2, [r7, #19]	@ zero_extendqisi2
 273 0056 9A42     		cmp	r2, r3
 274 0058 ECD3     		bcc	.L8
 133:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 134:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       wtemp /= pHandle->LowPassFilterBW;
 275              		.loc 1 134 23
 276 005a 7B68     		ldr	r3, [r7, #4]
 277 005c 5B89     		ldrh	r3, [r3, #10]
 278 005e 1A46     		mov	r2, r3
 279              		.loc 1 134 13
 280 0060 7B69     		ldr	r3, [r7, #20]
 281 0062 B3FBF2F3 		udiv	r3, r3, r2
 282 0066 7B61     		str	r3, [r7, #20]
 135:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Averaging done over the buffer stored values */
 136:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->_Super.AvBusVoltage_d = (uint16_t)wtemp;
 283              		.loc 1 136 40
 284 0068 7B69     		ldr	r3, [r7, #20]
 285 006a 9AB2     		uxth	r2, r3
 286              		.loc 1 136 38
 287 006c 7B68     		ldr	r3, [r7, #4]
 288 006e DA80     		strh	r2, [r3, #6]	@ movhi
 137:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->_Super.LatestConv = hAux;
 289              		.loc 1 137 34
 290 0070 7B68     		ldr	r3, [r7, #4]
 291 0072 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 292 0074 9A80     		strh	r2, [r3, #4]	@ movhi
 138:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 139:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if ((uint16_t)pHandle->index < (pHandle->LowPassFilterBW - 1U))
 293              		.loc 1 139 28
 294 0076 7B68     		ldr	r3, [r7, #4]
 295 0078 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 296              		.loc 1 139 11
 297 007a 1A46     		mov	r2, r3
 298              		.loc 1 139 46
 299 007c 7B68     		ldr	r3, [r7, #4]
 300 007e 5B89     		ldrh	r3, [r3, #10]
 301              		.loc 1 139 64
 302 0080 013B     		subs	r3, r3, #1
 303              		.loc 1 139 10
 304 0082 9A42     		cmp	r2, r3
 305 0084 06D2     		bcs	.L9
 140:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 141:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         pHandle->index++;
 306              		.loc 1 141 16
 307 0086 7B68     		ldr	r3, [r7, #4]
 308 0088 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 309              		.loc 1 141 23
 310 008a 0133     		adds	r3, r3, #1
 311 008c DAB2     		uxtb	r2, r3
 312 008e 7B68     		ldr	r3, [r7, #4]
 313 0090 5A76     		strb	r2, [r3, #25]
 314 0092 02E0     		b	.L6
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 9


 315              	.L9:
 142:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 143:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 144:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 145:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         pHandle->index = 0U;
 316              		.loc 1 145 24
 317 0094 7B68     		ldr	r3, [r7, #4]
 318 0096 0022     		movs	r2, #0
 319 0098 5A76     		strb	r2, [r3, #25]
 320              	.L6:
 146:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 147:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 149:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.FaultState = RVBS_CheckFaultState(pHandle);
 321              		.loc 1 149 34
 322 009a 7868     		ldr	r0, [r7, #4]
 323 009c FFF7FEFF 		bl	RVBS_CheckFaultState
 324 00a0 0346     		mov	r3, r0
 325 00a2 1A46     		mov	r2, r3
 326              		.loc 1 149 32
 327 00a4 7B68     		ldr	r3, [r7, #4]
 328 00a6 1A81     		strh	r2, [r3, #8]	@ movhi
 150:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     tempValue = pHandle->_Super.FaultState;
 329              		.loc 1 150 15
 330 00a8 7B68     		ldr	r3, [r7, #4]
 331 00aa 1B89     		ldrh	r3, [r3, #8]	@ movhi
 332 00ac FB81     		strh	r3, [r7, #14]	@ movhi
 151:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 152:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 153:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 154:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   return (tempValue);
 333              		.loc 1 154 10
 334 00ae FB89     		ldrh	r3, [r7, #14]
 155:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 335              		.loc 1 155 1
 336 00b0 1846     		mov	r0, r3
 337 00b2 1837     		adds	r7, r7, #24
 338              	.LCFI14:
 339              		.cfi_def_cfa_offset 8
 340 00b4 BD46     		mov	sp, r7
 341              	.LCFI15:
 342              		.cfi_def_cfa_register 13
 343              		@ sp needed
 344 00b6 80BD     		pop	{r7, pc}
 345              		.cfi_endproc
 346              	.LFE1090:
 348              		.section	.text.RVBS_CheckFaultState,"ax",%progbits
 349              		.align	1
 350              		.weak	RVBS_CheckFaultState
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 355              	RVBS_CheckFaultState:
 356              	.LFB1091:
 156:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 157:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
 158:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It returns #MC_OVER_VOLT, #MC_UNDER_VOLT or #MC_NO_ERROR depending on
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 10


 159:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         bus voltage and protection threshold values
 160:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
 161:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @retval uint16_t Fault code error
 162:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
 163:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak uint16_t RVBS_CheckFaultState(RDivider_Handle_t *pHandle)
 164:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 357              		.loc 1 164 1
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 16
 360              		@ frame_needed = 1, uses_anonymous_args = 0
 361              		@ link register save eliminated.
 362 0000 80B4     		push	{r7}
 363              	.LCFI16:
 364              		.cfi_def_cfa_offset 4
 365              		.cfi_offset 7, -4
 366 0002 85B0     		sub	sp, sp, #20
 367              	.LCFI17:
 368              		.cfi_def_cfa_offset 24
 369 0004 00AF     		add	r7, sp, #0
 370              	.LCFI18:
 371              		.cfi_def_cfa_register 7
 372 0006 7860     		str	r0, [r7, #4]
 165:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   uint16_t fault;
 166:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 167:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
 168:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 169:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     fault = MC_SW_ERROR;
 170:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 171:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
 172:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 173:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 174:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	/* If both thresholds are equal, single threshold feature is used */
 175:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	if (pHandle->OverVoltageThreshold == pHandle->OverVoltageThresholdLow)
 373              		.loc 1 175 13
 374 0008 7B68     		ldr	r3, [r7, #4]
 375 000a 9A89     		ldrh	r2, [r3, #12]
 376              		.loc 1 175 46
 377 000c 7B68     		ldr	r3, [r7, #4]
 378 000e DB89     		ldrh	r3, [r3, #14]
 379              		.loc 1 175 5
 380 0010 9A42     		cmp	r2, r3
 381 0012 14D1     		bne	.L12
 176:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	{
 177:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if (pHandle->_Super.AvBusVoltage_d > pHandle->OverVoltageThreshold)
 382              		.loc 1 177 26
 383 0014 7B68     		ldr	r3, [r7, #4]
 384 0016 DA88     		ldrh	r2, [r3, #6]
 385              		.loc 1 177 51
 386 0018 7B68     		ldr	r3, [r7, #4]
 387 001a 9B89     		ldrh	r3, [r3, #12]
 388              		.loc 1 177 10
 389 001c 9A42     		cmp	r2, r3
 390 001e 02D9     		bls	.L13
 178:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 179:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_OVER_VOLT;
 391              		.loc 1 179 15
 392 0020 0223     		movs	r3, #2
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 11


 393 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 394 0024 38E0     		b	.L14
 395              	.L13:
 180:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 181:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else if (pHandle->_Super.AvBusVoltage_d < pHandle->UnderVoltageThreshold)
 396              		.loc 1 181 31
 397 0026 7B68     		ldr	r3, [r7, #4]
 398 0028 DA88     		ldrh	r2, [r3, #6]
 399              		.loc 1 181 56
 400 002a 7B68     		ldr	r3, [r7, #4]
 401 002c 5B8A     		ldrh	r3, [r3, #18]
 402              		.loc 1 181 15
 403 002e 9A42     		cmp	r2, r3
 404 0030 02D2     		bcs	.L15
 182:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 183:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_UNDER_VOLT;
 405              		.loc 1 183 15
 406 0032 0423     		movs	r3, #4
 407 0034 FB81     		strh	r3, [r7, #14]	@ movhi
 408 0036 2FE0     		b	.L14
 409              	.L15:
 184:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 185:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 186:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 187:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_NO_ERROR;
 410              		.loc 1 187 15
 411 0038 0023     		movs	r3, #0
 412 003a FB81     		strh	r3, [r7, #14]	@ movhi
 413 003c 2CE0     		b	.L14
 414              	.L12:
 188:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 189:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	}
 190:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     else
 191:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 192:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* If both thresholds are different, hysteresis feature is used (Brake mode) */
 193:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if (pHandle->_Super.AvBusVoltage_d < pHandle->UnderVoltageThreshold)
 415              		.loc 1 193 26
 416 003e 7B68     		ldr	r3, [r7, #4]
 417 0040 DA88     		ldrh	r2, [r3, #6]
 418              		.loc 1 193 51
 419 0042 7B68     		ldr	r3, [r7, #4]
 420 0044 5B8A     		ldrh	r3, [r3, #18]
 421              		.loc 1 193 10
 422 0046 9A42     		cmp	r2, r3
 423 0048 02D2     		bcs	.L16
 194:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 195:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_UNDER_VOLT;
 424              		.loc 1 195 15
 425 004a 0423     		movs	r3, #4
 426 004c FB81     		strh	r3, [r7, #14]	@ movhi
 427 004e 23E0     		b	.L14
 428              	.L16:
 196:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 197:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else if ( false == pHandle->OverVoltageHysteresisUpDir )
 429              		.loc 1 197 33
 430 0050 7B68     		ldr	r3, [r7, #4]
 431 0052 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 12


 432              		.loc 1 197 23
 433 0054 83F00103 		eor	r3, r3, #1
 434 0058 DBB2     		uxtb	r3, r3
 435              		.loc 1 197 15
 436 005a 002B     		cmp	r3, #0
 437 005c 0ED0     		beq	.L17
 198:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 199:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         if (pHandle->_Super.AvBusVoltage_d < pHandle->OverVoltageThresholdLow)
 438              		.loc 1 199 28
 439 005e 7B68     		ldr	r3, [r7, #4]
 440 0060 DA88     		ldrh	r2, [r3, #6]
 441              		.loc 1 199 53
 442 0062 7B68     		ldr	r3, [r7, #4]
 443 0064 DB89     		ldrh	r3, [r3, #14]
 444              		.loc 1 199 12
 445 0066 9A42     		cmp	r2, r3
 446 0068 05D2     		bcs	.L18
 200:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         {
 201:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           pHandle->OverVoltageHysteresisUpDir = true;
 447              		.loc 1 201 47
 448 006a 7B68     		ldr	r3, [r7, #4]
 449 006c 0122     		movs	r2, #1
 450 006e 1A74     		strb	r2, [r3, #16]
 202:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_NO_ERROR;
 451              		.loc 1 202 17
 452 0070 0023     		movs	r3, #0
 453 0072 FB81     		strh	r3, [r7, #14]	@ movhi
 454 0074 10E0     		b	.L14
 455              	.L18:
 203:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 204:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         else{
 205:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_OVER_VOLT;
 456              		.loc 1 205 17
 457 0076 0223     		movs	r3, #2
 458 0078 FB81     		strh	r3, [r7, #14]	@ movhi
 459 007a 0DE0     		b	.L14
 460              	.L17:
 206:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 207:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 208:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 209:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 210:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         if (pHandle->_Super.AvBusVoltage_d > pHandle->OverVoltageThreshold)
 461              		.loc 1 210 28
 462 007c 7B68     		ldr	r3, [r7, #4]
 463 007e DA88     		ldrh	r2, [r3, #6]
 464              		.loc 1 210 53
 465 0080 7B68     		ldr	r3, [r7, #4]
 466 0082 9B89     		ldrh	r3, [r3, #12]
 467              		.loc 1 210 12
 468 0084 9A42     		cmp	r2, r3
 469 0086 05D9     		bls	.L19
 211:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         {
 212:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           pHandle->OverVoltageHysteresisUpDir = false;
 470              		.loc 1 212 47
 471 0088 7B68     		ldr	r3, [r7, #4]
 472 008a 0022     		movs	r2, #0
 473 008c 1A74     		strb	r2, [r3, #16]
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 13


 213:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_OVER_VOLT;
 474              		.loc 1 213 17
 475 008e 0223     		movs	r3, #2
 476 0090 FB81     		strh	r3, [r7, #14]	@ movhi
 477 0092 01E0     		b	.L14
 478              	.L19:
 214:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 215:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         else{
 216:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_NO_ERROR;
 479              		.loc 1 216 17
 480 0094 0023     		movs	r3, #0
 481 0096 FB81     		strh	r3, [r7, #14]	@ movhi
 482              	.L14:
 217:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 218:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 219:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 220:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 221:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 222:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 223:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   return (fault);
 483              		.loc 1 223 10
 484 0098 FB89     		ldrh	r3, [r7, #14]
 224:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 485              		.loc 1 224 1
 486 009a 1846     		mov	r0, r3
 487 009c 1437     		adds	r7, r7, #20
 488              	.LCFI19:
 489              		.cfi_def_cfa_offset 4
 490 009e BD46     		mov	sp, r7
 491              	.LCFI20:
 492              		.cfi_def_cfa_register 13
 493              		@ sp needed
 494 00a0 5DF8047B 		ldr	r7, [sp], #4
 495              	.LCFI21:
 496              		.cfi_restore 7
 497              		.cfi_def_cfa_offset 0
 498 00a4 7047     		bx	lr
 499              		.cfi_endproc
 500              	.LFE1091:
 502              		.text
 503              	.Letext0:
 504              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 505              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 506              		.file 4 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_tim.h"
 507              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 508              		.file 6 "Inc/mc_type.h"
 509              		.file 7 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h"
 510              		.file 8 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/r_divider_bus_voltage_sensor.h"
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 r_divider_bus_voltage_sensor.c
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:20     .rodata.OFFSET_TAB_CCMRx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:23     .rodata.OFFSET_TAB_CCMRx:00000000 OFFSET_TAB_CCMRx
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:26     .rodata.SHIFT_TAB_OCxx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:29     .rodata.SHIFT_TAB_OCxx:00000000 SHIFT_TAB_OCxx
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:32     .rodata.SHIFT_TAB_ICxx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:35     .rodata.SHIFT_TAB_ICxx:00000000 SHIFT_TAB_ICxx
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:38     .rodata.SHIFT_TAB_CCxP:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:41     .rodata.SHIFT_TAB_CCxP:00000000 SHIFT_TAB_CCxP
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:44     .rodata.SHIFT_TAB_OISx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:47     .rodata.SHIFT_TAB_OISx:00000000 SHIFT_TAB_OISx
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:50     .rodata.CHANNEL_OFFSET_TAB:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:53     .rodata.CHANNEL_OFFSET_TAB:00000000 CHANNEL_OFFSET_TAB
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:56     .text.RVBS_Init:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:62     .text.RVBS_Init:00000000 RVBS_Init
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:104    .text.RVBS_Clear:00000000 RVBS_Clear
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:98     .text.RVBS_Clear:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:193    .text.RVBS_CalcAvVbus:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:199    .text.RVBS_CalcAvVbus:00000000 RVBS_CalcAvVbus
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:355    .text.RVBS_CheckFaultState:00000000 RVBS_CheckFaultState
C:\Users\ep_ygh\AppData\Local\Temp\ccZkowpJ.s:349    .text.RVBS_CheckFaultState:00000000 $t

NO UNDEFINED SYMBOLS
