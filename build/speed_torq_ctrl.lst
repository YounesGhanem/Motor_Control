ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"speed_torq_ctrl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  20              		.align	2
  23              	OFFSET_TAB_CCMRx:
  24 0000 00000000 		.ascii	"\000\000\000\000\004\004\004<<"
  24      0404043C 
  24      3C
  25              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  26              		.align	2
  29              	SHIFT_TAB_OCxx:
  30 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\010"
  30      00000800 
  30      08
  31              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  32              		.align	2
  35              	SHIFT_TAB_ICxx:
  36 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000"
  36      00000800 
  36      00
  37              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  38              		.align	2
  41              	SHIFT_TAB_CCxP:
  42 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\020\024"
  42      080A0C10 
  42      14
  43              		.section	.rodata.SHIFT_TAB_OISx,"a"
  44              		.align	2
  47              	SHIFT_TAB_OISx:
  48 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\010\012"
  48      04050608 
  48      0A
  49              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  50              		.align	2
  53              	CHANNEL_OFFSET_TAB:
  54 0000 081C3044 		.ascii	"\010\0340DXl\200"
  54      586C80
  55              		.section	.text.STC_Init,"ax",%progbits
  56              		.align	1
  57              		.weak	STC_Init
  58              		.syntax unified
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 2


  59              		.thumb
  60              		.thumb_func
  62              	STC_Init:
  63              	.LFB1088:
  64              		.file 1 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c"
   1:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
   2:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   3:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @file    speed_torq_ctrl.c
   4:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief   This file provides firmware functions that implement the following features
   6:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *          of the Speed & Torque Control component of the Motor Control SDK.
   7:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
   8:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   9:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @attention
  10:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  11:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * <h2><center>&copy; Copyright (c) 2023 STMicroelectronics.
  12:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  14:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  19:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
  20:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ingroup SpeednTorqCtrlClassic
  21:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  22:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  23:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /* Includes ------------------------------------------------------------------*/
  24:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_torq_ctrl.h"
  25:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_pos_fdbk.h"
  26:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  27:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "mc_type.h"
  28:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  29:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #define CHECK_BOUNDARY
  30:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  31:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @addtogroup MCSDK
  32:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  33:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  34:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  35:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @defgroup SpeednTorqCtrl Speed & Torque Control
  36:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Speed & Torque Control component of the Motor Control SDK
  37:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  38:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * The MCSDK is able to control the motor in torque or in speed Mode.
  39:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This component is used to manage torque or speed references and 
  40:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * torque or speed ramps.
  41:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  42:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  43:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  44:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  45:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @defgroup SpeednTorqCtrlClassic Classic Speed & Torque Control
  46:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Speed & Torque Control component for the classic FOC drive
  47:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  48:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This component provides the Speed and Torque feature to the Classic
  49:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * FOC drive.
  50:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  51:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  52:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 3


  53:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  54:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Initializes all the object variables.
  55:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
  56:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pPI: the PI object used as controller for the speed regulation.
  57:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to #MC_NULL if the STC is initialized in torque mode
  58:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         and it will never be configured in speed mode.
  59:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  SPD_Handle: the speed sensor used to perform the speed regulation.
  60:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to #MC_NULL if the STC is used only in torque mode.
  61:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
  62:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  63:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called once right after object creation at initialization of the whole MC core.
  64:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  65:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Init(SpeednTorqCtrl_Handle_t *pHandle, PID_Handle_t *pPI, SpeednPosFdbk_Handle_t *S
  66:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
  65              		.loc 1 66 1
  66              		.cfi_startproc
  67              		@ args = 0, pretend = 0, frame = 16
  68              		@ frame_needed = 1, uses_anonymous_args = 0
  69              		@ link register save eliminated.
  70 0000 80B4     		push	{r7}
  71              	.LCFI0:
  72              		.cfi_def_cfa_offset 4
  73              		.cfi_offset 7, -4
  74 0002 85B0     		sub	sp, sp, #20
  75              	.LCFI1:
  76              		.cfi_def_cfa_offset 24
  77 0004 00AF     		add	r7, sp, #0
  78              	.LCFI2:
  79              		.cfi_def_cfa_register 7
  80 0006 F860     		str	r0, [r7, #12]
  81 0008 B960     		str	r1, [r7, #8]
  82 000a 7A60     		str	r2, [r7, #4]
  67:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  68:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
  69:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  70:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
  71:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  72:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
  73:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  74:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  75:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->PISpeed = pPI;
  83              		.loc 1 75 22
  84 000c FB68     		ldr	r3, [r7, #12]
  85 000e BA68     		ldr	r2, [r7, #8]
  86 0010 1A61     		str	r2, [r3, #16]
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  87              		.loc 1 76 18
  88 0012 FB68     		ldr	r3, [r7, #12]
  89 0014 7A68     		ldr	r2, [r7, #4]
  90 0016 5A61     		str	r2, [r3, #20]
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = pHandle->ModeDefault;
  91              		.loc 1 77 28
  92 0018 FB68     		ldr	r3, [r7, #12]
  93 001a 93F82A20 		ldrb	r2, [r3, #42]	@ zero_extendqisi2
  94              		.loc 1 77 19
  95 001e FB68     		ldr	r3, [r7, #12]
  96 0020 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 4


  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)pHandle->MecSpeedRefUnitDefault) * 65536;
  97              		.loc 1 78 49
  98 0022 FB68     		ldr	r3, [r7, #12]
  99 0024 B3F92C30 		ldrsh	r3, [r3, #44]
 100              		.loc 1 78 75
 101 0028 1A04     		lsls	r2, r3, #16
 102              		.loc 1 78 30
 103 002a FB68     		ldr	r3, [r7, #12]
 104 002c 5A60     		str	r2, [r3, #4]
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TorqueRef = ((int32_t)pHandle->TorqueRefDefault) * 65536;
 105              		.loc 1 79 43
 106 002e FB68     		ldr	r3, [r7, #12]
 107 0030 B3F92E30 		ldrsh	r3, [r3, #46]
 108              		.loc 1 79 63
 109 0034 1A04     		lsls	r2, r3, #16
 110              		.loc 1 79 24
 111 0036 FB68     		ldr	r3, [r7, #12]
 112 0038 9A60     		str	r2, [r3, #8]
  80:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TargetFinal = 0;
 113              		.loc 1 80 26
 114 003a FB68     		ldr	r3, [r7, #12]
 115 003c 0022     		movs	r2, #0
 116 003e 5A80     		strh	r2, [r3, #2]	@ movhi
  81:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
 117              		.loc 1 81 32
 118 0040 FB68     		ldr	r3, [r7, #12]
 119 0042 0022     		movs	r2, #0
 120 0044 DA60     		str	r2, [r3, #12]
  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
 121              		.loc 1 82 27
 122 0046 FB68     		ldr	r3, [r7, #12]
 123 0048 0022     		movs	r2, #0
 124 004a 9A61     		str	r2, [r3, #24]
  83:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  84:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  85:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 125              		.loc 1 86 1
 126 004c 00BF     		nop
 127 004e 1437     		adds	r7, r7, #20
 128              	.LCFI3:
 129              		.cfi_def_cfa_offset 4
 130 0050 BD46     		mov	sp, r7
 131              	.LCFI4:
 132              		.cfi_def_cfa_register 13
 133              		@ sp needed
 134 0052 5DF8047B 		ldr	r7, [sp], #4
 135              	.LCFI5:
 136              		.cfi_restore 7
 137              		.cfi_def_cfa_offset 0
 138 0056 7047     		bx	lr
 139              		.cfi_endproc
 140              	.LFE1088:
 142              		.section	.text.STC_SetSpeedSensor,"ax",%progbits
 143              		.align	1
 144              		.weak	STC_SetSpeedSensor
 145              		.syntax unified
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 5


 146              		.thumb
 147              		.thumb_func
 149              	STC_SetSpeedSensor:
 150              	.LFB1089:
  87:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  88:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  89:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Sets in real time the speed sensor utilized by the STC.
  90:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param pHandle: handler of the current instance of the SpeednTorqCtrl component.
  91:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param SPD_Handle Speed sensor component to be set.
  92:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
  93:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  94:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during tasks execution of the MC state machine into MediumFrequencyTask.
  95:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  96:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle, SpeednPosFdbk_Handle_t *SPD_Handle
  97:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 151              		.loc 1 97 1
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 8
 154              		@ frame_needed = 1, uses_anonymous_args = 0
 155              		@ link register save eliminated.
 156 0000 80B4     		push	{r7}
 157              	.LCFI6:
 158              		.cfi_def_cfa_offset 4
 159              		.cfi_offset 7, -4
 160 0002 83B0     		sub	sp, sp, #12
 161              	.LCFI7:
 162              		.cfi_def_cfa_offset 16
 163 0004 00AF     		add	r7, sp, #0
 164              	.LCFI8:
 165              		.cfi_def_cfa_register 7
 166 0006 7860     		str	r0, [r7, #4]
 167 0008 3960     		str	r1, [r7]
  98:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  99:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 100:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 101:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 102:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 103:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 104:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 105:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 106:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
 168              		.loc 1 106 18
 169 000a 7B68     		ldr	r3, [r7, #4]
 170 000c 3A68     		ldr	r2, [r7]
 171 000e 5A61     		str	r2, [r3, #20]
 107:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 108:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 109:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 110:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 172              		.loc 1 110 1
 173 0010 00BF     		nop
 174 0012 0C37     		adds	r7, r7, #12
 175              	.LCFI9:
 176              		.cfi_def_cfa_offset 4
 177 0014 BD46     		mov	sp, r7
 178              	.LCFI10:
 179              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 6


 180              		@ sp needed
 181 0016 5DF8047B 		ldr	r7, [sp], #4
 182              	.LCFI11:
 183              		.cfi_restore 7
 184              		.cfi_def_cfa_offset 0
 185 001a 7047     		bx	lr
 186              		.cfi_endproc
 187              	.LFE1089:
 189              		.section	.text.STC_GetSpeedSensor,"ax",%progbits
 190              		.align	1
 191              		.weak	STC_GetSpeedSensor
 192              		.syntax unified
 193              		.thumb
 194              		.thumb_func
 196              	STC_GetSpeedSensor:
 197              	.LFB1090:
 111:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 112:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 113:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Returns the speed sensor utilized by the FOC.
 114:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param pHandle: handler of the current instance of the SpeednTorqCtrl component.
 115:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval SpeednPosFdbk_Handle_t speed sensor utilized by the FOC.
 116:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 117:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called as soon as component parameters are required by MC FW.
 118:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 119:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 120:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak SpeednPosFdbk_Handle_t *STC_GetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle)
 121:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 198              		.loc 1 121 1
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 8
 201              		@ frame_needed = 1, uses_anonymous_args = 0
 202              		@ link register save eliminated.
 203 0000 80B4     		push	{r7}
 204              	.LCFI12:
 205              		.cfi_def_cfa_offset 4
 206              		.cfi_offset 7, -4
 207 0002 83B0     		sub	sp, sp, #12
 208              	.LCFI13:
 209              		.cfi_def_cfa_offset 16
 210 0004 00AF     		add	r7, sp, #0
 211              	.LCFI14:
 212              		.cfi_def_cfa_register 7
 213 0006 7860     		str	r0, [r7, #4]
 122:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 123:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL ==  pHandle) ? MC_NULL : pHandle->SPD);
 124:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 125:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->SPD);
 214              		.loc 1 125 18
 215 0008 7B68     		ldr	r3, [r7, #4]
 216 000a 5B69     		ldr	r3, [r3, #20]
 126:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 127:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 217              		.loc 1 127 1
 218 000c 1846     		mov	r0, r3
 219 000e 0C37     		adds	r7, r7, #12
 220              	.LCFI15:
 221              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 7


 222 0010 BD46     		mov	sp, r7
 223              	.LCFI16:
 224              		.cfi_def_cfa_register 13
 225              		@ sp needed
 226 0012 5DF8047B 		ldr	r7, [sp], #4
 227              	.LCFI17:
 228              		.cfi_restore 7
 229              		.cfi_def_cfa_offset 0
 230 0016 7047     		bx	lr
 231              		.cfi_endproc
 232              	.LFE1090:
 234              		.section	.text.STC_Clear,"ax",%progbits
 235              		.align	1
 236              		.weak	STC_Clear
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	STC_Clear:
 242              	.LFB1091:
 128:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 129:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Resets the integral term of speed regulator if STC is set in speed mode.
 131:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 132:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
 133:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 134:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called before each motor restart.
 135:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 136:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Clear(SpeednTorqCtrl_Handle_t *pHandle)
 137:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 243              		.loc 1 137 1
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 8
 246              		@ frame_needed = 1, uses_anonymous_args = 0
 247 0000 80B5     		push	{r7, lr}
 248              	.LCFI18:
 249              		.cfi_def_cfa_offset 8
 250              		.cfi_offset 7, -8
 251              		.cfi_offset 14, -4
 252 0002 82B0     		sub	sp, sp, #8
 253              	.LCFI19:
 254              		.cfi_def_cfa_offset 16
 255 0004 00AF     		add	r7, sp, #0
 256              	.LCFI20:
 257              		.cfi_def_cfa_register 7
 258 0006 7860     		str	r0, [r7, #4]
 138:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 139:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 140:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 141:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 142:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 143:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 144:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 145:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 146:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 259              		.loc 1 146 34
 260 0008 7B68     		ldr	r3, [r7, #4]
 261 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 8


 262              		.loc 1 146 8
 263 000c 032B     		cmp	r3, #3
 264 000e 05D1     		bne	.L7
 147:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       PID_SetIntegralTerm(pHandle->PISpeed, 0);
 265              		.loc 1 148 7
 266 0010 7B68     		ldr	r3, [r7, #4]
 267 0012 1B69     		ldr	r3, [r3, #16]
 268 0014 0021     		movs	r1, #0
 269 0016 1846     		mov	r0, r3
 270 0018 FFF7FEFF 		bl	PID_SetIntegralTerm
 271              	.L7:
 149:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 150:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 151:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 152:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Nothing to do */
 153:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 154:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 155:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 156:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 157:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 272              		.loc 1 157 1
 273 001c 00BF     		nop
 274 001e 0837     		adds	r7, r7, #8
 275              	.LCFI21:
 276              		.cfi_def_cfa_offset 8
 277 0020 BD46     		mov	sp, r7
 278              	.LCFI22:
 279              		.cfi_def_cfa_register 13
 280              		@ sp needed
 281 0022 80BD     		pop	{r7, pc}
 282              		.cfi_endproc
 283              	.LFE1091:
 285              		.section	.text.STC_GetMecSpeedRefUnit,"ax",%progbits
 286              		.align	1
 287              		.weak	STC_GetMecSpeedRefUnit
 288              		.syntax unified
 289              		.thumb
 290              		.thumb_func
 292              	STC_GetMecSpeedRefUnit:
 293              	.LFB1092:
 158:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 159:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 160:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the current mechanical rotor speed reference
 161:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::SpeedRefUnitExt "SpeedRefUnitExt" expressed in the unit
 162:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         defined by [SPEED_UNIT](measurement_units.md).
 163:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 164:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current mechanical rotor speed reference expressed in 
 165:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the unit defined by [SPEED_UNIT](measurement_units.md).
 166:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 167:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called at MC boot procedure and for speed monitoring through MotorPilote.
 168:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 169:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 170:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnit(SpeednTorqCtrl_Handle_t *pHandle)
 171:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 294              		.loc 1 171 1
 295              		.cfi_startproc
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 9


 296              		@ args = 0, pretend = 0, frame = 8
 297              		@ frame_needed = 1, uses_anonymous_args = 0
 298              		@ link register save eliminated.
 299 0000 80B4     		push	{r7}
 300              	.LCFI23:
 301              		.cfi_def_cfa_offset 4
 302              		.cfi_offset 7, -4
 303 0002 83B0     		sub	sp, sp, #12
 304              	.LCFI24:
 305              		.cfi_def_cfa_offset 16
 306 0004 00AF     		add	r7, sp, #0
 307              	.LCFI25:
 308              		.cfi_def_cfa_register 7
 309 0006 7860     		str	r0, [r7, #4]
 172:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 173:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 174:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 175:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt >> 16));
 176:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 177:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt >> 16));
 310              		.loc 1 177 28
 311 0008 7B68     		ldr	r3, [r7, #4]
 312 000a 5B68     		ldr	r3, [r3, #4]
 313              		.loc 1 177 46
 314 000c 1B14     		asrs	r3, r3, #16
 315              		.loc 1 177 11
 316 000e 1BB2     		sxth	r3, r3
 178:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 179:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 180:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 181:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt / 65536));
 182:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 183:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt / 65536));
 184:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 185:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 186:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 317              		.loc 1 186 1
 318 0010 1846     		mov	r0, r3
 319 0012 0C37     		adds	r7, r7, #12
 320              	.LCFI26:
 321              		.cfi_def_cfa_offset 4
 322 0014 BD46     		mov	sp, r7
 323              	.LCFI27:
 324              		.cfi_def_cfa_register 13
 325              		@ sp needed
 326 0016 5DF8047B 		ldr	r7, [sp], #4
 327              	.LCFI28:
 328              		.cfi_restore 7
 329              		.cfi_def_cfa_offset 0
 330 001a 7047     		bx	lr
 331              		.cfi_endproc
 332              	.LFE1092:
 334              		.section	.text.STC_GetTorqueRef,"ax",%progbits
 335              		.align	1
 336              		.weak	STC_GetTorqueRef
 337              		.syntax unified
 338              		.thumb
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 10


 339              		.thumb_func
 341              	STC_GetTorqueRef:
 342              	.LFB1093:
 187:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 188:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 189:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the current motor torque reference
 190:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 191:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current motor torque reference. This value represents
 192:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         actually the Iq current expressed in digit.
 193:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 194:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - @ref SpeednTorqCtrl_Handle_t::TorqueRef "TorqueRef" represents
 195:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * actually the Iq current reference expressed in digit.
 196:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - To convert current expressed in digit to current expressed in Amps
 197:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * is possible to use the formula:\n
 198:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * Current(Amp) = [Current(digit) * Vdd micro] / [65536 * Rshunt * Aop]
 199:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during #STC_ExecRamp execution.
 200:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 201:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 202:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetTorqueRef(SpeednTorqCtrl_Handle_t *pHandle)
 203:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 343              		.loc 1 203 1
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 8
 346              		@ frame_needed = 1, uses_anonymous_args = 0
 347              		@ link register save eliminated.
 348 0000 80B4     		push	{r7}
 349              	.LCFI29:
 350              		.cfi_def_cfa_offset 4
 351              		.cfi_offset 7, -4
 352 0002 83B0     		sub	sp, sp, #12
 353              	.LCFI30:
 354              		.cfi_def_cfa_offset 16
 355 0004 00AF     		add	r7, sp, #0
 356              	.LCFI31:
 357              		.cfi_def_cfa_register 7
 358 0006 7860     		str	r0, [r7, #4]
 204:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 205:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 206:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 207:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef >> 16));
 208:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 209:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef >> 16));
 359              		.loc 1 209 28
 360 0008 7B68     		ldr	r3, [r7, #4]
 361 000a 9B68     		ldr	r3, [r3, #8]
 362              		.loc 1 209 40
 363 000c 1B14     		asrs	r3, r3, #16
 364              		.loc 1 209 11
 365 000e 1BB2     		sxth	r3, r3
 210:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 211:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 212:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 213:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef / 65536));
 214:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 215:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef / 65536));
 216:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 217:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 11


 218:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 366              		.loc 1 218 1
 367 0010 1846     		mov	r0, r3
 368 0012 0C37     		adds	r7, r7, #12
 369              	.LCFI32:
 370              		.cfi_def_cfa_offset 4
 371 0014 BD46     		mov	sp, r7
 372              	.LCFI33:
 373              		.cfi_def_cfa_register 13
 374              		@ sp needed
 375 0016 5DF8047B 		ldr	r7, [sp], #4
 376              	.LCFI34:
 377              		.cfi_restore 7
 378              		.cfi_def_cfa_offset 0
 379 001a 7047     		bx	lr
 380              		.cfi_endproc
 381              	.LFE1093:
 383              		.section	.text.STC_SetControlMode,"ax",%progbits
 384              		.align	1
 385              		.weak	STC_SetControlMode
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 390              	STC_SetControlMode:
 391              	.LFB1094:
 219:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 220:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 221:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Sets the modality of the speed and torque controller
 222:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::Mode "Mode".
 223:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 224:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  bMode:  modality of STC. It can be one of these two settings:
 225:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         MCM_TORQUE_MODE to enable the Torque mode or MCM_SPEED_MODE to
 226:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         enable the Speed mode.
 227:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 228:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 229:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Two modality are available Torque mode and Speed mode.\n
 230:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * -- In Torque mode is possible to set directly the motor torque
 231:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * reference or execute a motor torque ramp. This value represents
 232:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * actually the Iq current reference expressed in digit.\n
 233:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * -- In Speed mode is possible to set the mechanical rotor speed
 234:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * reference or execute a speed ramp. The required motor torque is
 235:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * automatically calculated by the STC.\n
 236:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Interrupts the execution of any previous ramp command
 237:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * maintaining the last value of Iq by clearing
 238:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *  @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 239:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called generally before Starting the execution of a ramp.
 240:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 241:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetControlMode(SpeednTorqCtrl_Handle_t *pHandle, MC_ControlMode_t bMode)
 242:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 392              		.loc 1 242 1
 393              		.cfi_startproc
 394              		@ args = 0, pretend = 0, frame = 8
 395              		@ frame_needed = 1, uses_anonymous_args = 0
 396              		@ link register save eliminated.
 397 0000 80B4     		push	{r7}
 398              	.LCFI35:
 399              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 12


 400              		.cfi_offset 7, -4
 401 0002 83B0     		sub	sp, sp, #12
 402              	.LCFI36:
 403              		.cfi_def_cfa_offset 16
 404 0004 00AF     		add	r7, sp, #0
 405              	.LCFI37:
 406              		.cfi_def_cfa_register 7
 407 0006 7860     		str	r0, [r7, #4]
 408 0008 0B46     		mov	r3, r1
 409 000a FB70     		strb	r3, [r7, #3]
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 244:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 245:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 246:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 247:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 248:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 249:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 250:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 251:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = bMode;
 410              		.loc 1 251 19
 411 000c 7B68     		ldr	r3, [r7, #4]
 412 000e FA78     		ldrb	r2, [r7, #3]
 413 0010 1A70     		strb	r2, [r3]
 252:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0u; /* Interrupts previous ramp */
 414              		.loc 1 252 32
 415 0012 7B68     		ldr	r3, [r7, #4]
 416 0014 0022     		movs	r2, #0
 417 0016 DA60     		str	r2, [r3, #12]
 253:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 254:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 255:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 256:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 418              		.loc 1 256 1
 419 0018 00BF     		nop
 420 001a 0C37     		adds	r7, r7, #12
 421              	.LCFI38:
 422              		.cfi_def_cfa_offset 4
 423 001c BD46     		mov	sp, r7
 424              	.LCFI39:
 425              		.cfi_def_cfa_register 13
 426              		@ sp needed
 427 001e 5DF8047B 		ldr	r7, [sp], #4
 428              	.LCFI40:
 429              		.cfi_restore 7
 430              		.cfi_def_cfa_offset 0
 431 0022 7047     		bx	lr
 432              		.cfi_endproc
 433              	.LFE1094:
 435              		.section	.text.STC_GetControlMode,"ax",%progbits
 436              		.align	1
 437              		.weak	STC_GetControlMode
 438              		.syntax unified
 439              		.thumb
 440              		.thumb_func
 442              	STC_GetControlMode:
 443              	.LFB1095:
 257:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 13


 258:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 259:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the modality of the speed and torque controller
 260:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *           @ref SpeednTorqCtrl_Handle_t::Mode "Mode".
 261:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 262:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval MC_ControlMode_t  modality of STC. It can be one of
 263:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         these two values: MCM_TORQUE_MODE or MCM_SPEED_MODE.
 264:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 265:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called by @ref SpeedRegulatorPotentiometer Speed potentiometer component to manage new speed 
 266:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 267:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 268:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak MC_ControlMode_t STC_GetControlMode(SpeednTorqCtrl_Handle_t *pHandle)
 269:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 444              		.loc 1 269 1
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 8
 447              		@ frame_needed = 1, uses_anonymous_args = 0
 448              		@ link register save eliminated.
 449 0000 80B4     		push	{r7}
 450              	.LCFI41:
 451              		.cfi_def_cfa_offset 4
 452              		.cfi_offset 7, -4
 453 0002 83B0     		sub	sp, sp, #12
 454              	.LCFI42:
 455              		.cfi_def_cfa_offset 16
 456 0004 00AF     		add	r7, sp, #0
 457              	.LCFI43:
 458              		.cfi_def_cfa_register 7
 459 0006 7860     		str	r0, [r7, #4]
 270:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 271:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? MCM_TORQUE_MODE : pHandle->Mode);
 272:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 273:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->Mode);
 460              		.loc 1 273 18
 461 0008 7B68     		ldr	r3, [r7, #4]
 462 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 274:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 275:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 463              		.loc 1 275 1
 464 000c 1846     		mov	r0, r3
 465 000e 0C37     		adds	r7, r7, #12
 466              	.LCFI44:
 467              		.cfi_def_cfa_offset 4
 468 0010 BD46     		mov	sp, r7
 469              	.LCFI45:
 470              		.cfi_def_cfa_register 13
 471              		@ sp needed
 472 0012 5DF8047B 		ldr	r7, [sp], #4
 473              	.LCFI46:
 474              		.cfi_restore 7
 475              		.cfi_def_cfa_offset 0
 476 0016 7047     		bx	lr
 477              		.cfi_endproc
 478              	.LFE1095:
 480              		.section	.text.STC_ExecRamp,"ax",%progbits
 481              		.align	1
 482              		.weak	STC_ExecRamp
 483              		.syntax unified
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 14


 484              		.thumb
 485              		.thumb_func
 487              	STC_ExecRamp:
 488              	.LFB1096:
 276:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 277:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 278:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Starts the execution of a ramp using new target and duration.
 279:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 280:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hTargetFinal: final value of command. This is different accordingly
 281:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the STC modality.
 282:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Torque mode hTargetFinal is the value of motor torque
 283:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         reference at the end of the ramp. This value represents actually the
 284:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 285:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
 286:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:\n
 287:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro\n
 288:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Speed mode hTargetFinal is the value of mechanical
 289:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         rotor speed reference at the end of the ramp expressed in the unit 
 290:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         defined by [SPEED_UNIT](measurement_units.md).
 291:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hDurationms: the duration of the ramp expressed in milliseconds. It
 292:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to set 0 to perform an instantaneous change in the value.
 293:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning false if the absolute value of hTargetFinal is out of
 294:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the boundary of the application (Above max application speed or max
 295:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         application torque or below min application speed depending on
 296:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         current modality of TSC) in this case the command is ignored and the
 297:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         previous ramp is not interrupted, otherwise it returns true.
 298:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 299:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - This command interrupts the execution of any previous ramp command.
 300:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * The generated ramp will be in the modality previously set by
 301:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * #STC_SetControlMode method.
 302:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during @ref motor profiling, @ref RevUpCtrl "Rev-Up Control" phase,
 303:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ref EncAlignCtrl "Encoder Alignment Control",
 304:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ref PositionControl "Position Control" loop or
 305:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * speed regulation with @ref SpeedRegulatorPotentiometer Speed potentiometer.
 306:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 307:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_ExecRamp(SpeednTorqCtrl_Handle_t *pHandle, int16_t hTargetFinal, uint32_t hDuration
 308:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 489              		.loc 1 308 1
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 32
 492              		@ frame_needed = 1, uses_anonymous_args = 0
 493 0000 80B5     		push	{r7, lr}
 494              	.LCFI47:
 495              		.cfi_def_cfa_offset 8
 496              		.cfi_offset 7, -8
 497              		.cfi_offset 14, -4
 498 0002 88B0     		sub	sp, sp, #32
 499              	.LCFI48:
 500              		.cfi_def_cfa_offset 40
 501 0004 00AF     		add	r7, sp, #0
 502              	.LCFI49:
 503              		.cfi_def_cfa_register 7
 504 0006 F860     		str	r0, [r7, #12]
 505 0008 0B46     		mov	r3, r1
 506 000a 7A60     		str	r2, [r7, #4]
 507 000c 7B81     		strh	r3, [r7, #10]	@ movhi
 309:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 15


 508              		.loc 1 309 8
 509 000e 0123     		movs	r3, #1
 510 0010 FB77     		strb	r3, [r7, #31]
 310:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 311:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 312:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 313:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     allowedRange = false;
 314:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 315:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 316:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 317:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 318:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     uint32_t wAux;
 319:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wAux1;
 320:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hCurrentReference;
 321:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 322:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Check if the hTargetFinal is out of the bound of application */
 323:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 511              		.loc 1 323 35
 512 0012 FB68     		ldr	r3, [r7, #12]
 513 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 514              		.loc 1 323 8
 515 0016 042B     		cmp	r3, #4
 516 0018 16D1     		bne	.L16
 324:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 325:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = STC_GetTorqueRef(pHandle);
 517              		.loc 1 325 27
 518 001a F868     		ldr	r0, [r7, #12]
 519 001c FFF7FEFF 		bl	STC_GetTorqueRef
 520 0020 0346     		mov	r3, r0
 521 0022 BB83     		strh	r3, [r7, #28]	@ movhi
 326:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxPositiveTorque)
 522              		.loc 1 327 11
 523 0024 B7F90A30 		ldrsh	r3, [r7, #10]
 524              		.loc 1 327 51
 525 0028 FA68     		ldr	r2, [r7, #12]
 526 002a D28C     		ldrh	r2, [r2, #38]
 527              		.loc 1 327 10
 528 002c 9342     		cmp	r3, r2
 529 002e 01DD     		ble	.L17
 328:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 329:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 530              		.loc 1 329 22
 531 0030 0023     		movs	r3, #0
 532 0032 FB77     		strb	r3, [r7, #31]
 533              	.L17:
 330:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 331:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 332:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 333:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 334:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 335:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal < (int32_t)pHandle->MinNegativeTorque)
 534              		.loc 1 335 51
 535 0034 FB68     		ldr	r3, [r7, #12]
 536 0036 B3F92830 		ldrsh	r3, [r3, #40]
 537              		.loc 1 335 10
 538 003a B7F90A20 		ldrsh	r2, [r7, #10]
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 16


 539 003e 9A42     		cmp	r2, r3
 540 0040 28DA     		bge	.L18
 336:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 337:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 541              		.loc 1 337 22
 542 0042 0023     		movs	r3, #0
 543 0044 FB77     		strb	r3, [r7, #31]
 544 0046 25E0     		b	.L18
 545              	.L16:
 338:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 339:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 340:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 341:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 342:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 343:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 344:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 345:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 346:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 347:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 348:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 349:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt >> 16);
 546              		.loc 1 349 44
 547 0048 FB68     		ldr	r3, [r7, #12]
 548 004a 5B68     		ldr	r3, [r3, #4]
 549              		.loc 1 349 62
 550 004c 1B14     		asrs	r3, r3, #16
 551              		.loc 1 349 25
 552 004e BB83     		strh	r3, [r7, #28]	@ movhi
 350:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 351:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt / 65536);
 352:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 353:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 354:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 355:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxAppPositiveMecSpeedUnit)
 553              		.loc 1 355 11
 554 0050 B7F90A30 		ldrsh	r3, [r7, #10]
 555              		.loc 1 355 51
 556 0054 FA68     		ldr	r2, [r7, #12]
 557 0056 D28B     		ldrh	r2, [r2, #30]
 558              		.loc 1 355 10
 559 0058 9342     		cmp	r3, r2
 560 005a 02DD     		ble	.L19
 356:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 357:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 561              		.loc 1 357 22
 562 005c 0023     		movs	r3, #0
 563 005e FB77     		strb	r3, [r7, #31]
 564 0060 18E0     		b	.L18
 565              	.L19:
 358:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 359:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if (hTargetFinal < pHandle->MinAppNegativeMecSpeedUnit)
 566              		.loc 1 359 38
 567 0062 FB68     		ldr	r3, [r7, #12]
 568 0064 B3F92430 		ldrsh	r3, [r3, #36]
 569              		.loc 1 359 15
 570 0068 B7F90A20 		ldrsh	r2, [r7, #10]
 571 006c 9A42     		cmp	r2, r3
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 17


 572 006e 02DA     		bge	.L20
 360:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 361:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 573              		.loc 1 361 22
 574 0070 0023     		movs	r3, #0
 575 0072 FB77     		strb	r3, [r7, #31]
 576 0074 0EE0     		b	.L18
 577              	.L20:
 362:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if ((int32_t)hTargetFinal < (int32_t)pHandle->MinAppPositiveMecSpeedUnit)
 578              		.loc 1 363 16
 579 0076 B7F90A30 		ldrsh	r3, [r7, #10]
 580              		.loc 1 363 56
 581 007a FA68     		ldr	r2, [r7, #12]
 582 007c 128C     		ldrh	r2, [r2, #32]
 583              		.loc 1 363 15
 584 007e 9342     		cmp	r3, r2
 585 0080 08DA     		bge	.L18
 364:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 365:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (hTargetFinal > pHandle->MaxAppNegativeMecSpeedUnit)
 586              		.loc 1 365 35
 587 0082 FB68     		ldr	r3, [r7, #12]
 588 0084 B3F92230 		ldrsh	r3, [r3, #34]
 589              		.loc 1 365 12
 590 0088 B7F90A20 		ldrsh	r2, [r7, #10]
 591 008c 9A42     		cmp	r2, r3
 592 008e 01DD     		ble	.L18
 366:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 367:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           allowedRange = false;
 593              		.loc 1 367 24
 594 0090 0023     		movs	r3, #0
 595 0092 FB77     		strb	r3, [r7, #31]
 596              	.L18:
 368:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 369:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 370:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 371:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 372:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 373:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 374:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 375:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 376:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 377:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (true == allowedRange)
 597              		.loc 1 377 8
 598 0094 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 599 0096 002B     		cmp	r3, #0
 600 0098 41D0     		beq	.L21
 378:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 379:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Interrupts the execution of any previous ramp command */
 380:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (0U == hDurationms)
 601              		.loc 1 380 10
 602 009a 7B68     		ldr	r3, [r7, #4]
 603 009c 002B     		cmp	r3, #0
 604 009e 15D1     		bne	.L22
 381:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (MCM_SPEED_MODE == pHandle->Mode)
 605              		.loc 1 382 38
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 18


 606 00a0 FB68     		ldr	r3, [r7, #12]
 607 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 608              		.loc 1 382 12
 609 00a4 032B     		cmp	r3, #3
 610 00a6 05D1     		bne	.L23
 383:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->SpeedRefUnitExt = ((int32_t)hTargetFinal) * 65536;
 611              		.loc 1 384 39
 612 00a8 B7F90A30 		ldrsh	r3, [r7, #10]
 613              		.loc 1 384 62
 614 00ac 1A04     		lsls	r2, r3, #16
 615              		.loc 1 384 36
 616 00ae FB68     		ldr	r3, [r7, #12]
 617 00b0 5A60     		str	r2, [r3, #4]
 618 00b2 04E0     		b	.L24
 619              	.L23:
 385:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 386:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         else
 387:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 388:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->TorqueRef = ((int32_t)hTargetFinal) * 65536;
 620              		.loc 1 388 33
 621 00b4 B7F90A30 		ldrsh	r3, [r7, #10]
 622              		.loc 1 388 56
 623 00b8 1A04     		lsls	r2, r3, #16
 624              		.loc 1 388 30
 625 00ba FB68     		ldr	r3, [r7, #12]
 626 00bc 9A60     		str	r2, [r3, #8]
 627              	.L24:
 389:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = 0U;
 628              		.loc 1 390 36
 629 00be FB68     		ldr	r3, [r7, #12]
 630 00c0 0022     		movs	r2, #0
 631 00c2 DA60     		str	r2, [r3, #12]
 391:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 632              		.loc 1 391 31
 633 00c4 FB68     		ldr	r3, [r7, #12]
 634 00c6 0022     		movs	r2, #0
 635 00c8 9A61     		str	r2, [r3, #24]
 636 00ca 28E0     		b	.L21
 637              	.L22:
 392:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 393:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 394:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 395:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Store the hTargetFinal to be applied in the last step */
 396:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->TargetFinal = hTargetFinal;
 638              		.loc 1 396 30
 639 00cc FB68     		ldr	r3, [r7, #12]
 640 00ce 7A89     		ldrh	r2, [r7, #10]	@ movhi
 641 00d0 5A80     		strh	r2, [r3, #2]	@ movhi
 397:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 398:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the (wRampRemainingStep) number of steps remaining to complete the ramp */
 399:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux = ((uint32_t)hDurationms) * ((uint32_t)pHandle->STCFrequencyHz);
 642              		.loc 1 399 60
 643 00d2 FB68     		ldr	r3, [r7, #12]
 644 00d4 9B8B     		ldrh	r3, [r3, #28]
 645              		.loc 1 399 43
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 19


 646 00d6 1A46     		mov	r2, r3
 647              		.loc 1 399 14
 648 00d8 7B68     		ldr	r3, [r7, #4]
 649 00da 02FB03F3 		mul	r3, r2, r3
 650 00de BB61     		str	r3, [r7, #24]
 400:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 651              		.loc 1 400 14
 652 00e0 BB69     		ldr	r3, [r7, #24]
 653 00e2 114A     		ldr	r2, .L26
 654 00e4 A2FB0323 		umull	r2, r3, r2, r3
 655 00e8 9B09     		lsrs	r3, r3, #6
 656 00ea BB61     		str	r3, [r7, #24]
 401:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 657              		.loc 1 401 36
 658 00ec FB68     		ldr	r3, [r7, #12]
 659 00ee BA69     		ldr	r2, [r7, #24]
 660 00f0 DA60     		str	r2, [r3, #12]
 402:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep++;
 661              		.loc 1 402 16
 662 00f2 FB68     		ldr	r3, [r7, #12]
 663 00f4 DB68     		ldr	r3, [r3, #12]
 664              		.loc 1 402 35
 665 00f6 5A1C     		adds	r2, r3, #1
 666 00f8 FB68     		ldr	r3, [r7, #12]
 667 00fa DA60     		str	r2, [r3, #12]
 403:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 404:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the increment/decrement amount (wIncDecAmount) to be applied to
 405:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         the reference value at each CalcTorqueReference */
 406:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 = (((int32_t)hTargetFinal) - ((int32_t)hCurrentReference)) * 65536;
 668              		.loc 1 406 19
 669 00fc B7F90A20 		ldrsh	r2, [r7, #10]
 670              		.loc 1 406 45
 671 0100 B7F91C30 		ldrsh	r3, [r7, #28]
 672              		.loc 1 406 42
 673 0104 D31A     		subs	r3, r2, r3
 674              		.loc 1 406 15
 675 0106 1B04     		lsls	r3, r3, #16
 676 0108 7B61     		str	r3, [r7, #20]
 407:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 677              		.loc 1 407 35
 678 010a FB68     		ldr	r3, [r7, #12]
 679 010c DB68     		ldr	r3, [r3, #12]
 680              		.loc 1 407 19
 681 010e 1A46     		mov	r2, r3
 682              		.loc 1 407 15
 683 0110 7B69     		ldr	r3, [r7, #20]
 684 0112 93FBF2F3 		sdiv	r3, r3, r2
 685 0116 7B61     		str	r3, [r7, #20]
 408:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = wAux1;
 686              		.loc 1 408 31
 687 0118 FB68     		ldr	r3, [r7, #12]
 688 011a 7A69     		ldr	r2, [r7, #20]
 689 011c 9A61     		str	r2, [r3, #24]
 690              	.L21:
 409:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 410:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 411:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 20


 412:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 413:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 414:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (allowedRange);
 691              		.loc 1 414 10
 692 011e FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 415:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 693              		.loc 1 415 1
 694 0120 1846     		mov	r0, r3
 695 0122 2037     		adds	r7, r7, #32
 696              	.LCFI50:
 697              		.cfi_def_cfa_offset 8
 698 0124 BD46     		mov	sp, r7
 699              	.LCFI51:
 700              		.cfi_def_cfa_register 13
 701              		@ sp needed
 702 0126 80BD     		pop	{r7, pc}
 703              	.L27:
 704              		.align	2
 705              	.L26:
 706 0128 D34D6210 		.word	274877907
 707              		.cfi_endproc
 708              	.LFE1096:
 710              		.section	.text.STC_StopRamp,"ax",%progbits
 711              		.align	1
 712              		.weak	STC_StopRamp
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 717              	STC_StopRamp:
 718              	.LFB1097:
 416:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 417:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 418:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Interrupts the execution of any previous ramp command in particular by clearing
 419:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the number of steps remaining to complete the ramp
 420:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 421:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 422:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 423:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 424:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - If STC has been set in Torque mode the last value of Iq is maintained.\n
 425:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - If STC has been set in Speed mode the last value of mechanical
 426:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * rotor speed reference is maintained.
 427:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called by MCI_StopSpeedRamp execution command.
 428:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 429:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_StopRamp(SpeednTorqCtrl_Handle_t *pHandle)
 430:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 719              		.loc 1 430 1
 720              		.cfi_startproc
 721              		@ args = 0, pretend = 0, frame = 8
 722              		@ frame_needed = 1, uses_anonymous_args = 0
 723              		@ link register save eliminated.
 724 0000 80B4     		push	{r7}
 725              	.LCFI52:
 726              		.cfi_def_cfa_offset 4
 727              		.cfi_offset 7, -4
 728 0002 83B0     		sub	sp, sp, #12
 729              	.LCFI53:
 730              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 21


 731 0004 00AF     		add	r7, sp, #0
 732              	.LCFI54:
 733              		.cfi_def_cfa_register 7
 734 0006 7860     		str	r0, [r7, #4]
 431:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 432:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 433:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 434:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 435:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 436:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 437:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 438:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 439:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
 735              		.loc 1 439 32
 736 0008 7B68     		ldr	r3, [r7, #4]
 737 000a 0022     		movs	r2, #0
 738 000c DA60     		str	r2, [r3, #12]
 440:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
 739              		.loc 1 440 27
 740 000e 7B68     		ldr	r3, [r7, #4]
 741 0010 0022     		movs	r2, #0
 742 0012 9A61     		str	r2, [r3, #24]
 441:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 442:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 443:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 444:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 743              		.loc 1 444 1
 744 0014 00BF     		nop
 745 0016 0C37     		adds	r7, r7, #12
 746              	.LCFI55:
 747              		.cfi_def_cfa_offset 4
 748 0018 BD46     		mov	sp, r7
 749              	.LCFI56:
 750              		.cfi_def_cfa_register 13
 751              		@ sp needed
 752 001a 5DF8047B 		ldr	r7, [sp], #4
 753              	.LCFI57:
 754              		.cfi_restore 7
 755              		.cfi_def_cfa_offset 0
 756 001e 7047     		bx	lr
 757              		.cfi_endproc
 758              	.LFE1097:
 760              		.section	.text.STC_CalcTorqueReference,"ax",%progbits
 761              		.align	1
 762              		.weak	STC_CalcTorqueReference
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 767              	STC_CalcTorqueReference:
 768              	.LFB1098:
 445:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 446:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 447:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Computes the new value of motor torque reference.
 448:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 449:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t motor torque reference. This value represents actually the
 450:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 451:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 22


 452:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:\n
 453:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro
 454:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 455:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Must be called at fixed time equal to hSTCFrequencyHz. It is called
 456:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * passing as parameter the speed sensor used to perform the speed regulation.
 457:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during START and ALIGNEMENT states of the MC state machine into MediumFrequencyTask.
 458:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 459:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_CalcTorqueReference(SpeednTorqCtrl_Handle_t *pHandle)
 460:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 769              		.loc 1 460 1
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 24
 772              		@ frame_needed = 1, uses_anonymous_args = 0
 773 0000 80B5     		push	{r7, lr}
 774              	.LCFI58:
 775              		.cfi_def_cfa_offset 8
 776              		.cfi_offset 7, -8
 777              		.cfi_offset 14, -4
 778 0002 86B0     		sub	sp, sp, #24
 779              	.LCFI59:
 780              		.cfi_def_cfa_offset 32
 781 0004 00AF     		add	r7, sp, #0
 782              	.LCFI60:
 783              		.cfi_def_cfa_register 7
 784 0006 7860     		str	r0, [r7, #4]
 461:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   int16_t hTorqueReference;
 462:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 463:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 464:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 465:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     hTorqueReference = 0;
 466:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 467:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 468:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 469:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 470:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wCurrentReference;
 471:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hMeasuredSpeed;
 472:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hTargetSpeed;
 473:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hError;
 474:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 475:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 785              		.loc 1 475 35
 786 0008 7B68     		ldr	r3, [r7, #4]
 787 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 788              		.loc 1 475 8
 789 000c 042B     		cmp	r3, #4
 790 000e 03D1     		bne	.L30
 476:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 477:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->TorqueRef;
 791              		.loc 1 477 25
 792 0010 7B68     		ldr	r3, [r7, #4]
 793 0012 9B68     		ldr	r3, [r3, #8]
 794 0014 3B61     		str	r3, [r7, #16]
 795 0016 02E0     		b	.L31
 796              	.L30:
 478:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 479:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 480:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 23


 481:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->SpeedRefUnitExt;
 797              		.loc 1 481 25
 798 0018 7B68     		ldr	r3, [r7, #4]
 799 001a 5B68     		ldr	r3, [r3, #4]
 800 001c 3B61     		str	r3, [r7, #16]
 801              	.L31:
 482:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 483:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 484:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Update the speed reference or the torque reference according to the mode
 485:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****        and terminates the ramp if needed */
 486:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (pHandle->RampRemainingStep > 1U)
 802              		.loc 1 486 16
 803 001e 7B68     		ldr	r3, [r7, #4]
 804 0020 DB68     		ldr	r3, [r3, #12]
 805              		.loc 1 486 8
 806 0022 012B     		cmp	r3, #1
 807 0024 0AD9     		bls	.L32
 487:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 488:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Increment/decrement the reference value */
 489:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference += pHandle->IncDecAmount;
 808              		.loc 1 489 35
 809 0026 7B68     		ldr	r3, [r7, #4]
 810 0028 9B69     		ldr	r3, [r3, #24]
 811              		.loc 1 489 25
 812 002a 3A69     		ldr	r2, [r7, #16]
 813 002c 1344     		add	r3, r3, r2
 814 002e 3B61     		str	r3, [r7, #16]
 490:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 491:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Decrement the number of remaining steps */
 492:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep--;
 815              		.loc 1 492 14
 816 0030 7B68     		ldr	r3, [r7, #4]
 817 0032 DB68     		ldr	r3, [r3, #12]
 818              		.loc 1 492 33
 819 0034 5A1E     		subs	r2, r3, #1
 820 0036 7B68     		ldr	r3, [r7, #4]
 821 0038 DA60     		str	r2, [r3, #12]
 822 003a 0BE0     		b	.L33
 823              	.L32:
 493:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 494:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else if (1U == pHandle->RampRemainingStep)
 824              		.loc 1 494 27
 825 003c 7B68     		ldr	r3, [r7, #4]
 826 003e DB68     		ldr	r3, [r3, #12]
 827              		.loc 1 494 13
 828 0040 012B     		cmp	r3, #1
 829 0042 07D1     		bne	.L33
 495:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 496:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Set the backup value of hTargetFinal */
 497:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = ((int32_t)pHandle->TargetFinal) * 65536;
 830              		.loc 1 497 44
 831 0044 7B68     		ldr	r3, [r7, #4]
 832 0046 B3F90230 		ldrsh	r3, [r3, #2]
 833              		.loc 1 497 25
 834 004a 1B04     		lsls	r3, r3, #16
 835 004c 3B61     		str	r3, [r7, #16]
 498:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 24


 836              		.loc 1 498 34
 837 004e 7B68     		ldr	r3, [r7, #4]
 838 0050 0022     		movs	r2, #0
 839 0052 DA60     		str	r2, [r3, #12]
 840              	.L33:
 499:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 500:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 501:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 502:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Do nothing */
 503:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 504:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 505:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 841              		.loc 1 505 34
 842 0054 7B68     		ldr	r3, [r7, #4]
 843 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 844              		.loc 1 505 8
 845 0058 032B     		cmp	r3, #3
 846 005a 21D1     		bne	.L34
 506:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 507:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Run the speed control loop */
 508:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 509:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Compute speed error */
 510:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 511:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 512:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference >> 16);
 847              		.loc 1 512 50
 848 005c 3B69     		ldr	r3, [r7, #16]
 849 005e 1B14     		asrs	r3, r3, #16
 850              		.loc 1 512 20
 851 0060 FB81     		strh	r3, [r7, #14]	@ movhi
 513:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 514:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference / 65536);
 515:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 516:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hMeasuredSpeed = SPD_GetAvrgMecSpeedUnit(pHandle->SPD);
 852              		.loc 1 516 55
 853 0062 7B68     		ldr	r3, [r7, #4]
 854 0064 5B69     		ldr	r3, [r3, #20]
 855              		.loc 1 516 24
 856 0066 1846     		mov	r0, r3
 857 0068 FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 858 006c 0346     		mov	r3, r0
 859 006e BB81     		strh	r3, [r7, #12]	@ movhi
 517:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 860              		.loc 1 517 29
 861 0070 FA89     		ldrh	r2, [r7, #14]
 862 0072 BB89     		ldrh	r3, [r7, #12]
 863 0074 D31A     		subs	r3, r2, r3
 864 0076 9BB2     		uxth	r3, r3
 865              		.loc 1 517 14
 866 0078 7B81     		strh	r3, [r7, #10]	@ movhi
 518:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 867              		.loc 1 518 26
 868 007a 7B68     		ldr	r3, [r7, #4]
 869 007c 1B69     		ldr	r3, [r3, #16]
 870 007e B7F90A20 		ldrsh	r2, [r7, #10]
 871 0082 1146     		mov	r1, r2
 872 0084 1846     		mov	r0, r3
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 25


 873 0086 FFF7FEFF 		bl	PI_Controller
 874 008a 0346     		mov	r3, r0
 875 008c FB82     		strh	r3, [r7, #22]	@ movhi
 519:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 520:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->SpeedRefUnitExt = wCurrentReference;
 876              		.loc 1 520 32
 877 008e 7B68     		ldr	r3, [r7, #4]
 878 0090 3A69     		ldr	r2, [r7, #16]
 879 0092 5A60     		str	r2, [r3, #4]
 521:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 880              		.loc 1 521 29
 881 0094 B7F91630 		ldrsh	r3, [r7, #22]
 882              		.loc 1 521 56
 883 0098 1A04     		lsls	r2, r3, #16
 884              		.loc 1 521 26
 885 009a 7B68     		ldr	r3, [r7, #4]
 886 009c 9A60     		str	r2, [r3, #8]
 887 009e 05E0     		b	.L35
 888              	.L34:
 522:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 523:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 524:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 525:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = wCurrentReference;
 889              		.loc 1 525 26
 890 00a0 7B68     		ldr	r3, [r7, #4]
 891 00a2 3A69     		ldr	r2, [r7, #16]
 892 00a4 9A60     		str	r2, [r3, #8]
 526:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 527:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 528:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference >> 16);
 893              		.loc 1 528 54
 894 00a6 3B69     		ldr	r3, [r7, #16]
 895 00a8 1B14     		asrs	r3, r3, #16
 896              		.loc 1 528 24
 897 00aa FB82     		strh	r3, [r7, #22]	@ movhi
 898              	.L35:
 529:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 530:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference / 65536);
 531:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 532:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 533:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 534:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 535:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 536:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (hTorqueReference);
 899              		.loc 1 536 10
 900 00ac B7F91630 		ldrsh	r3, [r7, #22]
 537:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 901              		.loc 1 537 1
 902 00b0 1846     		mov	r0, r3
 903 00b2 1837     		adds	r7, r7, #24
 904              	.LCFI61:
 905              		.cfi_def_cfa_offset 8
 906 00b4 BD46     		mov	sp, r7
 907              	.LCFI62:
 908              		.cfi_def_cfa_register 13
 909              		@ sp needed
 910 00b6 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 26


 911              		.cfi_endproc
 912              	.LFE1098:
 914              		.section	.text.STC_GetMecSpeedRefUnitDefault,"ax",%progbits
 915              		.align	1
 916              		.weak	STC_GetMecSpeedRefUnitDefault
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 921              	STC_GetMecSpeedRefUnitDefault:
 922              	.LFB1099:
 538:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 539:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 540:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the Default mechanical rotor speed reference
 541:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MecSpeedRefUnitDefault "MecSpeedRefUnitDefault" expressed
 542:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the unit defined by [SPEED_UNIT](measurement_units.md).
 543:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 544:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t Default mechanical rotor speed.
 545:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 546:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - It is the first command to STC after the start of speed ramp execution.
 547:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the boot phase of the MC process.
 548:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 549:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 550:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnitDefault(SpeednTorqCtrl_Handle_t *pHandle)
 551:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 923              		.loc 1 551 1
 924              		.cfi_startproc
 925              		@ args = 0, pretend = 0, frame = 8
 926              		@ frame_needed = 1, uses_anonymous_args = 0
 927              		@ link register save eliminated.
 928 0000 80B4     		push	{r7}
 929              	.LCFI63:
 930              		.cfi_def_cfa_offset 4
 931              		.cfi_offset 7, -4
 932 0002 83B0     		sub	sp, sp, #12
 933              	.LCFI64:
 934              		.cfi_def_cfa_offset 16
 935 0004 00AF     		add	r7, sp, #0
 936              	.LCFI65:
 937              		.cfi_def_cfa_register 7
 938 0006 7860     		str	r0, [r7, #4]
 552:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 553:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MecSpeedRefUnitDefault);
 554:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 555:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MecSpeedRefUnitDefault);
 939              		.loc 1 555 18
 940 0008 7B68     		ldr	r3, [r7, #4]
 941 000a B3F92C30 		ldrsh	r3, [r3, #44]
 556:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 557:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 942              		.loc 1 557 1
 943 000e 1846     		mov	r0, r3
 944 0010 0C37     		adds	r7, r7, #12
 945              	.LCFI66:
 946              		.cfi_def_cfa_offset 4
 947 0012 BD46     		mov	sp, r7
 948              	.LCFI67:
 949              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 27


 950              		@ sp needed
 951 0014 5DF8047B 		ldr	r7, [sp], #4
 952              	.LCFI68:
 953              		.cfi_restore 7
 954              		.cfi_def_cfa_offset 0
 955 0018 7047     		bx	lr
 956              		.cfi_endproc
 957              	.LFE1099:
 959              		.section	.text.STC_GetMaxAppPositiveMecSpeedUnit,"ax",%progbits
 960              		.align	1
 961              		.weak	STC_GetMaxAppPositiveMecSpeedUnit
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 966              	STC_GetMaxAppPositiveMecSpeedUnit:
 967              	.LFB1100:
 558:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 559:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 560:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application maximum positive value of rotor speed
 561:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MaxAppPositiveMecSpeedUnit "MaxAppPositiveMecSpeedUnit".
 562:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 563:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 564:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 565:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 566:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 567:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 568:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak uint16_t STC_GetMaxAppPositiveMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 569:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 968              		.loc 1 569 1
 969              		.cfi_startproc
 970              		@ args = 0, pretend = 0, frame = 8
 971              		@ frame_needed = 1, uses_anonymous_args = 0
 972              		@ link register save eliminated.
 973 0000 80B4     		push	{r7}
 974              	.LCFI69:
 975              		.cfi_def_cfa_offset 4
 976              		.cfi_offset 7, -4
 977 0002 83B0     		sub	sp, sp, #12
 978              	.LCFI70:
 979              		.cfi_def_cfa_offset 16
 980 0004 00AF     		add	r7, sp, #0
 981              	.LCFI71:
 982              		.cfi_def_cfa_register 7
 983 0006 7860     		str	r0, [r7, #4]
 570:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 571:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0U : pHandle->MaxAppPositiveMecSpeedUnit);
 572:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 573:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MaxAppPositiveMecSpeedUnit);
 984              		.loc 1 573 18
 985 0008 7B68     		ldr	r3, [r7, #4]
 986 000a DB8B     		ldrh	r3, [r3, #30]
 574:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 575:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 987              		.loc 1 575 1
 988 000c 1846     		mov	r0, r3
 989 000e 0C37     		adds	r7, r7, #12
 990              	.LCFI72:
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 28


 991              		.cfi_def_cfa_offset 4
 992 0010 BD46     		mov	sp, r7
 993              	.LCFI73:
 994              		.cfi_def_cfa_register 13
 995              		@ sp needed
 996 0012 5DF8047B 		ldr	r7, [sp], #4
 997              	.LCFI74:
 998              		.cfi_restore 7
 999              		.cfi_def_cfa_offset 0
 1000 0016 7047     		bx	lr
 1001              		.cfi_endproc
 1002              	.LFE1100:
 1004              		.section	.text.STC_GetMinAppNegativeMecSpeedUnit,"ax",%progbits
 1005              		.align	1
 1006              		.weak	STC_GetMinAppNegativeMecSpeedUnit
 1007              		.syntax unified
 1008              		.thumb
 1009              		.thumb_func
 1011              	STC_GetMinAppNegativeMecSpeedUnit:
 1012              	.LFB1101:
 576:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 577:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 578:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application minimum negative value of rotor speed
 579:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MinAppNegativeMecSpeedUnit "MinAppNegativeMecSpeedUnit".
 580:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 581:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 582:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 583:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 584:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 585:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 586:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMinAppNegativeMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 587:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1013              		.loc 1 587 1
 1014              		.cfi_startproc
 1015              		@ args = 0, pretend = 0, frame = 8
 1016              		@ frame_needed = 1, uses_anonymous_args = 0
 1017              		@ link register save eliminated.
 1018 0000 80B4     		push	{r7}
 1019              	.LCFI75:
 1020              		.cfi_def_cfa_offset 4
 1021              		.cfi_offset 7, -4
 1022 0002 83B0     		sub	sp, sp, #12
 1023              	.LCFI76:
 1024              		.cfi_def_cfa_offset 16
 1025 0004 00AF     		add	r7, sp, #0
 1026              	.LCFI77:
 1027              		.cfi_def_cfa_register 7
 1028 0006 7860     		str	r0, [r7, #4]
 588:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 589:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MinAppNegativeMecSpeedUnit);
 590:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 591:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MinAppNegativeMecSpeedUnit);
 1029              		.loc 1 591 18
 1030 0008 7B68     		ldr	r3, [r7, #4]
 1031 000a B3F92430 		ldrsh	r3, [r3, #36]
 592:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 593:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 29


 1032              		.loc 1 593 1
 1033 000e 1846     		mov	r0, r3
 1034 0010 0C37     		adds	r7, r7, #12
 1035              	.LCFI78:
 1036              		.cfi_def_cfa_offset 4
 1037 0012 BD46     		mov	sp, r7
 1038              	.LCFI79:
 1039              		.cfi_def_cfa_register 13
 1040              		@ sp needed
 1041 0014 5DF8047B 		ldr	r7, [sp], #4
 1042              	.LCFI80:
 1043              		.cfi_restore 7
 1044              		.cfi_def_cfa_offset 0
 1045 0018 7047     		bx	lr
 1046              		.cfi_endproc
 1047              	.LFE1101:
 1049              		.section	.text.STC_RampCompleted,"ax",%progbits
 1050              		.align	1
 1051              		.weak	STC_RampCompleted
 1052              		.syntax unified
 1053              		.thumb
 1054              		.thumb_func
 1056              	STC_RampCompleted:
 1057              	.LFB1102:
 594:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 595:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 596:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Checks if the settled speed or torque ramp has been completed by checking zero value of
 597:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *           @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 598:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 599:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning true if the ramp is completed, false otherwise.
 600:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 601:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during motor profiler tuning of HALL sensor.
 602:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 603:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 604:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_RampCompleted(SpeednTorqCtrl_Handle_t *pHandle)
 605:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1058              		.loc 1 605 1
 1059              		.cfi_startproc
 1060              		@ args = 0, pretend = 0, frame = 16
 1061              		@ frame_needed = 1, uses_anonymous_args = 0
 1062              		@ link register save eliminated.
 1063 0000 80B4     		push	{r7}
 1064              	.LCFI81:
 1065              		.cfi_def_cfa_offset 4
 1066              		.cfi_offset 7, -4
 1067 0002 85B0     		sub	sp, sp, #20
 1068              	.LCFI82:
 1069              		.cfi_def_cfa_offset 24
 1070 0004 00AF     		add	r7, sp, #0
 1071              	.LCFI83:
 1072              		.cfi_def_cfa_register 7
 1073 0006 7860     		str	r0, [r7, #4]
 606:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1074              		.loc 1 606 8
 1075 0008 0023     		movs	r3, #0
 1076 000a FB73     		strb	r3, [r7, #15]
 607:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 30


 608:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 609:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 610:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 611:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 612:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 613:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 614:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 615:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (0U == pHandle->RampRemainingStep)
 1077              		.loc 1 615 22
 1078 000c 7B68     		ldr	r3, [r7, #4]
 1079 000e DB68     		ldr	r3, [r3, #12]
 1080              		.loc 1 615 8
 1081 0010 002B     		cmp	r3, #0
 1082 0012 01D1     		bne	.L44
 616:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 617:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 1083              		.loc 1 617 14
 1084 0014 0123     		movs	r3, #1
 1085 0016 FB73     		strb	r3, [r7, #15]
 1086              	.L44:
 618:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 619:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 620:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 621:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 622:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 1087              		.loc 1 622 10
 1088 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 623:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1089              		.loc 1 623 1
 1090 001a 1846     		mov	r0, r3
 1091 001c 1437     		adds	r7, r7, #20
 1092              	.LCFI84:
 1093              		.cfi_def_cfa_offset 4
 1094 001e BD46     		mov	sp, r7
 1095              	.LCFI85:
 1096              		.cfi_def_cfa_register 13
 1097              		@ sp needed
 1098 0020 5DF8047B 		ldr	r7, [sp], #4
 1099              	.LCFI86:
 1100              		.cfi_restore 7
 1101              		.cfi_def_cfa_offset 0
 1102 0024 7047     		bx	lr
 1103              		.cfi_endproc
 1104              	.LFE1102:
 1106              		.section	.text.STC_StopSpeedRamp,"ax",%progbits
 1107              		.align	1
 1108              		.weak	STC_StopSpeedRamp
 1109              		.syntax unified
 1110              		.thumb
 1111              		.thumb_func
 1113              	STC_StopSpeedRamp:
 1114              	.LFB1103:
 624:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 625:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 626:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Stops the execution of speed ramp by clearing the number of steps remaining to complete
 627:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 628:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning true if the command is executed, false otherwise.
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 31


 629:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 630:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 631:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 632:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_StopSpeedRamp(SpeednTorqCtrl_Handle_t *pHandle)
 633:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1115              		.loc 1 633 1
 1116              		.cfi_startproc
 1117              		@ args = 0, pretend = 0, frame = 16
 1118              		@ frame_needed = 1, uses_anonymous_args = 0
 1119              		@ link register save eliminated.
 1120 0000 80B4     		push	{r7}
 1121              	.LCFI87:
 1122              		.cfi_def_cfa_offset 4
 1123              		.cfi_offset 7, -4
 1124 0002 85B0     		sub	sp, sp, #20
 1125              	.LCFI88:
 1126              		.cfi_def_cfa_offset 24
 1127 0004 00AF     		add	r7, sp, #0
 1128              	.LCFI89:
 1129              		.cfi_def_cfa_register 7
 1130 0006 7860     		str	r0, [r7, #4]
 634:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 1131              		.loc 1 634 8
 1132 0008 0023     		movs	r3, #0
 1133 000a FB73     		strb	r3, [r7, #15]
 635:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 636:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 637:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 638:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 639:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 640:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 641:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 642:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 643:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 1134              		.loc 1 643 34
 1135 000c 7B68     		ldr	r3, [r7, #4]
 1136 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1137              		.loc 1 643 8
 1138 0010 032B     		cmp	r3, #3
 1139 0012 04D1     		bne	.L47
 644:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 645:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0u;
 1140              		.loc 1 645 34
 1141 0014 7B68     		ldr	r3, [r7, #4]
 1142 0016 0022     		movs	r2, #0
 1143 0018 DA60     		str	r2, [r3, #12]
 646:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 1144              		.loc 1 646 14
 1145 001a 0123     		movs	r3, #1
 1146 001c FB73     		strb	r3, [r7, #15]
 1147              	.L47:
 647:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 648:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 649:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 650:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 651:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 1148              		.loc 1 651 10
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 32


 1149 001e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 652:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1150              		.loc 1 652 1
 1151 0020 1846     		mov	r0, r3
 1152 0022 1437     		adds	r7, r7, #20
 1153              	.LCFI90:
 1154              		.cfi_def_cfa_offset 4
 1155 0024 BD46     		mov	sp, r7
 1156              	.LCFI91:
 1157              		.cfi_def_cfa_register 13
 1158              		@ sp needed
 1159 0026 5DF8047B 		ldr	r7, [sp], #4
 1160              	.LCFI92:
 1161              		.cfi_restore 7
 1162              		.cfi_def_cfa_offset 0
 1163 002a 7047     		bx	lr
 1164              		.cfi_endproc
 1165              	.LFE1103:
 1167              		.section	.text.STC_GetDefaultIqdref,"ax",%progbits
 1168              		.align	1
 1169              		.weak	STC_GetDefaultIqdref
 1170              		.syntax unified
 1171              		.thumb
 1172              		.thumb_func
 1174              	STC_GetDefaultIqdref:
 1175              	.LFB1104:
 653:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 654:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 655:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the default values of Iqdref.
 656:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 657:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval default values of Iqdref.
 658:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 659:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the boot phase of the MC process.
 660:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 661:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 662:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak qd_t STC_GetDefaultIqdref(SpeednTorqCtrl_Handle_t *pHandle)
 663:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1176              		.loc 1 663 1
 1177              		.cfi_startproc
 1178              		@ args = 0, pretend = 0, frame = 16
 1179              		@ frame_needed = 1, uses_anonymous_args = 0
 1180              		@ link register save eliminated.
 1181 0000 80B4     		push	{r7}
 1182              	.LCFI93:
 1183              		.cfi_def_cfa_offset 4
 1184              		.cfi_offset 7, -4
 1185 0002 85B0     		sub	sp, sp, #20
 1186              	.LCFI94:
 1187              		.cfi_def_cfa_offset 24
 1188 0004 00AF     		add	r7, sp, #0
 1189              	.LCFI95:
 1190              		.cfi_def_cfa_register 7
 1191 0006 7860     		str	r0, [r7, #4]
 664:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   qd_t IqdRefDefault;
 665:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 666:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 667:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 33


 668:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = 0;
 669:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = 0;
 670:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 671:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 672:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 673:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 674:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = pHandle->TorqueRefDefault;
 1192              		.loc 1 674 30
 1193 0008 7B68     		ldr	r3, [r7, #4]
 1194 000a B3F92E30 		ldrsh	r3, [r3, #46]
 1195              		.loc 1 674 21
 1196 000e 3B81     		strh	r3, [r7, #8]	@ movhi
 675:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = pHandle->IdrefDefault;
 1197              		.loc 1 675 30
 1198 0010 7B68     		ldr	r3, [r7, #4]
 1199 0012 B3F93030 		ldrsh	r3, [r3, #48]
 1200              		.loc 1 675 21
 1201 0016 7B81     		strh	r3, [r7, #10]	@ movhi
 676:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 677:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 678:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 679:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (IqdRefDefault);
 1202              		.loc 1 679 10
 1203 0018 BB68     		ldr	r3, [r7, #8]
 1204 001a FB60     		str	r3, [r7, #12]
 1205 001c 0023     		movs	r3, #0
 1206 001e BA89     		ldrh	r2, [r7, #12]
 1207 0020 62F30F03 		bfi	r3, r2, #0, #16
 1208 0024 FA89     		ldrh	r2, [r7, #14]
 1209 0026 62F31F43 		bfi	r3, r2, #16, #16
 680:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1210              		.loc 1 680 1
 1211 002a 1846     		mov	r0, r3
 1212 002c 1437     		adds	r7, r7, #20
 1213              	.LCFI96:
 1214              		.cfi_def_cfa_offset 4
 1215 002e BD46     		mov	sp, r7
 1216              	.LCFI97:
 1217              		.cfi_def_cfa_register 13
 1218              		@ sp needed
 1219 0030 5DF8047B 		ldr	r7, [sp], #4
 1220              	.LCFI98:
 1221              		.cfi_restore 7
 1222              		.cfi_def_cfa_offset 0
 1223 0034 7047     		bx	lr
 1224              		.cfi_endproc
 1225              	.LFE1104:
 1227              		.section	.text.STC_SetNominalCurrent,"ax",%progbits
 1228              		.align	1
 1229              		.weak	STC_SetNominalCurrent
 1230              		.syntax unified
 1231              		.thumb
 1232              		.thumb_func
 1234              	STC_SetNominalCurrent:
 1235              	.LFB1105:
 681:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 682:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 34


 683:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Changes the nominal current by setting new values of
 684:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MaxPositiveTorque "MaxPositiveTorque" and
 685:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MinNegativeTorque "MinNegativeTorque".
 686:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 687:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hNominalCurrent: represents actually the maximum Iq current expressed in digit.
 688:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 689:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 690:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 691:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 692:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetNominalCurrent(SpeednTorqCtrl_Handle_t *pHandle, uint16_t hNominalCurrent)
 693:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1236              		.loc 1 693 1
 1237              		.cfi_startproc
 1238              		@ args = 0, pretend = 0, frame = 8
 1239              		@ frame_needed = 1, uses_anonymous_args = 0
 1240              		@ link register save eliminated.
 1241 0000 80B4     		push	{r7}
 1242              	.LCFI99:
 1243              		.cfi_def_cfa_offset 4
 1244              		.cfi_offset 7, -4
 1245 0002 83B0     		sub	sp, sp, #12
 1246              	.LCFI100:
 1247              		.cfi_def_cfa_offset 16
 1248 0004 00AF     		add	r7, sp, #0
 1249              	.LCFI101:
 1250              		.cfi_def_cfa_register 7
 1251 0006 7860     		str	r0, [r7, #4]
 1252 0008 0B46     		mov	r3, r1
 1253 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 694:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 695:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 696:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 697:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 698:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 699:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 700:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 701:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 702:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MaxPositiveTorque = hNominalCurrent;
 1254              		.loc 1 702 32
 1255 000c 7B68     		ldr	r3, [r7, #4]
 1256 000e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1257 0010 DA84     		strh	r2, [r3, #38]	@ movhi
 703:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MinNegativeTorque = -(int16_t)hNominalCurrent;
 1258              		.loc 1 703 32
 1259 0012 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1260 0014 5B42     		rsbs	r3, r3, #0
 1261 0016 9BB2     		uxth	r3, r3
 1262 0018 1AB2     		sxth	r2, r3
 1263 001a 7B68     		ldr	r3, [r7, #4]
 1264 001c 1A85     		strh	r2, [r3, #40]	@ movhi
 704:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 705:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 706:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 707:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1265              		.loc 1 707 1
 1266 001e 00BF     		nop
 1267 0020 0C37     		adds	r7, r7, #12
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 35


 1268              	.LCFI102:
 1269              		.cfi_def_cfa_offset 4
 1270 0022 BD46     		mov	sp, r7
 1271              	.LCFI103:
 1272              		.cfi_def_cfa_register 13
 1273              		@ sp needed
 1274 0024 5DF8047B 		ldr	r7, [sp], #4
 1275              	.LCFI104:
 1276              		.cfi_restore 7
 1277              		.cfi_def_cfa_offset 0
 1278 0028 7047     		bx	lr
 1279              		.cfi_endproc
 1280              	.LFE1105:
 1282              		.section	.text.STC_ForceSpeedReferenceToCurrentSpeed,"ax",%progbits
 1283              		.align	1
 1284              		.weak	STC_ForceSpeedReferenceToCurrentSpeed
 1285              		.syntax unified
 1286              		.thumb
 1287              		.thumb_func
 1289              	STC_ForceSpeedReferenceToCurrentSpeed:
 1290              	.LFB1106:
 708:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 709:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 710:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Forces the speed reference
 711:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::SpeedRefUnitExt "SpeedRefUnitExt" to the current speed.
 712:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 713:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 714:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 715:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the CHARGE_BOOT_CAP, SWITCH_OVER and WAIT_STOP_MOTOR states of the MC state mac
 716:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * into MediumFrequencyTask to initialize the speed reference.
 717:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 718:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_ForceSpeedReferenceToCurrentSpeed(SpeednTorqCtrl_Handle_t *pHandle)
 719:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 1291              		.loc 1 719 1
 1292              		.cfi_startproc
 1293              		@ args = 0, pretend = 0, frame = 8
 1294              		@ frame_needed = 1, uses_anonymous_args = 0
 1295 0000 80B5     		push	{r7, lr}
 1296              	.LCFI105:
 1297              		.cfi_def_cfa_offset 8
 1298              		.cfi_offset 7, -8
 1299              		.cfi_offset 14, -4
 1300 0002 82B0     		sub	sp, sp, #8
 1301              	.LCFI106:
 1302              		.cfi_def_cfa_offset 16
 1303 0004 00AF     		add	r7, sp, #0
 1304              	.LCFI107:
 1305              		.cfi_def_cfa_register 7
 1306 0006 7860     		str	r0, [r7, #4]
 720:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 721:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 722:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 723:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 724:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 725:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 726:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 727:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 36


 728:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)SPD_GetAvrgMecSpeedUnit(pHandle->SPD)) * (int32_t)65536;
 1307              		.loc 1 728 73
 1308 0008 7B68     		ldr	r3, [r7, #4]
 1309 000a 5B69     		ldr	r3, [r3, #20]
 1310              		.loc 1 728 42
 1311 000c 1846     		mov	r0, r3
 1312 000e FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 1313 0012 0346     		mov	r3, r0
 1314              		.loc 1 728 81
 1315 0014 1A04     		lsls	r2, r3, #16
 1316              		.loc 1 728 30
 1317 0016 7B68     		ldr	r3, [r7, #4]
 1318 0018 5A60     		str	r2, [r3, #4]
 729:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 730:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 731:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 732:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 1319              		.loc 1 732 1
 1320 001a 00BF     		nop
 1321 001c 0837     		adds	r7, r7, #8
 1322              	.LCFI108:
 1323              		.cfi_def_cfa_offset 8
 1324 001e BD46     		mov	sp, r7
 1325              	.LCFI109:
 1326              		.cfi_def_cfa_register 13
 1327              		@ sp needed
 1328 0020 80BD     		pop	{r7, pc}
 1329              		.cfi_endproc
 1330              	.LFE1106:
 1332              		.text
 1333              	.Letext0:
 1334              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 1335              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 1336              		.file 4 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_tim.h"
 1337              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 1338              		.file 6 "Inc/mc_type.h"
 1339              		.file 7 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/pid_regulator.h"
 1340              		.file 8 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 1341              		.file 9 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h"
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 37


DEFINED SYMBOLS
                            *ABS*:00000000 speed_torq_ctrl.c
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:20     .rodata.OFFSET_TAB_CCMRx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:23     .rodata.OFFSET_TAB_CCMRx:00000000 OFFSET_TAB_CCMRx
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:26     .rodata.SHIFT_TAB_OCxx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:29     .rodata.SHIFT_TAB_OCxx:00000000 SHIFT_TAB_OCxx
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:32     .rodata.SHIFT_TAB_ICxx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:35     .rodata.SHIFT_TAB_ICxx:00000000 SHIFT_TAB_ICxx
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:38     .rodata.SHIFT_TAB_CCxP:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:41     .rodata.SHIFT_TAB_CCxP:00000000 SHIFT_TAB_CCxP
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:44     .rodata.SHIFT_TAB_OISx:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:47     .rodata.SHIFT_TAB_OISx:00000000 SHIFT_TAB_OISx
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:50     .rodata.CHANNEL_OFFSET_TAB:00000000 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:53     .rodata.CHANNEL_OFFSET_TAB:00000000 CHANNEL_OFFSET_TAB
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:56     .text.STC_Init:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:62     .text.STC_Init:00000000 STC_Init
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:143    .text.STC_SetSpeedSensor:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:149    .text.STC_SetSpeedSensor:00000000 STC_SetSpeedSensor
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:190    .text.STC_GetSpeedSensor:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:196    .text.STC_GetSpeedSensor:00000000 STC_GetSpeedSensor
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:235    .text.STC_Clear:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:241    .text.STC_Clear:00000000 STC_Clear
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:286    .text.STC_GetMecSpeedRefUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:292    .text.STC_GetMecSpeedRefUnit:00000000 STC_GetMecSpeedRefUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:335    .text.STC_GetTorqueRef:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:341    .text.STC_GetTorqueRef:00000000 STC_GetTorqueRef
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:384    .text.STC_SetControlMode:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:390    .text.STC_SetControlMode:00000000 STC_SetControlMode
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:436    .text.STC_GetControlMode:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:442    .text.STC_GetControlMode:00000000 STC_GetControlMode
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:481    .text.STC_ExecRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:487    .text.STC_ExecRamp:00000000 STC_ExecRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:706    .text.STC_ExecRamp:00000128 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:711    .text.STC_StopRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:717    .text.STC_StopRamp:00000000 STC_StopRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:761    .text.STC_CalcTorqueReference:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:767    .text.STC_CalcTorqueReference:00000000 STC_CalcTorqueReference
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:915    .text.STC_GetMecSpeedRefUnitDefault:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:921    .text.STC_GetMecSpeedRefUnitDefault:00000000 STC_GetMecSpeedRefUnitDefault
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:960    .text.STC_GetMaxAppPositiveMecSpeedUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:966    .text.STC_GetMaxAppPositiveMecSpeedUnit:00000000 STC_GetMaxAppPositiveMecSpeedUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1005   .text.STC_GetMinAppNegativeMecSpeedUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1011   .text.STC_GetMinAppNegativeMecSpeedUnit:00000000 STC_GetMinAppNegativeMecSpeedUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1050   .text.STC_RampCompleted:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1056   .text.STC_RampCompleted:00000000 STC_RampCompleted
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1107   .text.STC_StopSpeedRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1113   .text.STC_StopSpeedRamp:00000000 STC_StopSpeedRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1168   .text.STC_GetDefaultIqdref:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1174   .text.STC_GetDefaultIqdref:00000000 STC_GetDefaultIqdref
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1228   .text.STC_SetNominalCurrent:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1234   .text.STC_SetNominalCurrent:00000000 STC_SetNominalCurrent
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1283   .text.STC_ForceSpeedReferenceToCurrentSpeed:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s:1289   .text.STC_ForceSpeedReferenceToCurrentSpeed:00000000 STC_ForceSpeedReferenceToCurrentSpeed

UNDEFINED SYMBOLS
PID_SetIntegralTerm
SPD_GetAvrgMecSpeedUnit
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccKGRO5X.s 			page 38


PI_Controller
